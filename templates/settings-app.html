{{!-- Template pour l'application des paramètres MEGA --}}\n<form class=\"mega-settings-form\">\n  <nav class=\"sheet-tabs tabs\" data-group=\"primary\">\n    <a class=\"item\" data-tab=\"gameplay\">\n      <i class=\"fas fa-gamepad\"></i>\n      {{ localize \"SETTINGS.Tabs.Gameplay\" }}\n    </a>\n    <a class=\"item\" data-tab=\"visual\">\n      <i class=\"fas fa-palette\"></i>\n      {{ localize \"SETTINGS.Tabs.Visual\" }}\n    </a>\n    <a class=\"item\" data-tab=\"colors\">\n      <i class=\"fas fa-paint-brush\"></i>\n      {{ localize \"SETTINGS.Tabs.Colors\" }}\n    </a>\n    <a class=\"item\" data-tab=\"effects\">\n      <i class=\"fas fa-magic\"></i>\n      {{ localize \"SETTINGS.Tabs.Effects\" }}\n    </a>\n    <a class=\"item\" data-tab=\"advanced\">\n      <i class=\"fas fa-cog\"></i>\n      {{ localize \"SETTINGS.Tabs.Advanced\" }}\n    </a>\n  </nav>\n\n  <div class=\"sheet-body\">\n    {{!-- Onglet Gameplay --}}\n    <div class=\"tab\" data-group=\"primary\" data-tab=\"gameplay\">\n      <div class=\"settings-section\">\n        <h3 class=\"section-header\">\n          <i class=\"fas fa-dice-d20\"></i>\n          {{ localize \"SETTINGS.Sections.GameRules\" }}\n        </h3>\n        \n        <div class=\"form-group\">\n          <label for=\"courtMetrage\">\n            {{ localize \"SETTINGS.CourtMetrage.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.CourtMetrage.Hint\" }}</span>\n          </label>\n          <input type=\"checkbox\" name=\"courtMetrage\" {{checked settings.courtMetrage}}>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"retraitAuto\">\n            {{ localize \"SETTINGS.RetraitAuto.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.RetraitAuto.Hint\" }}</span>\n          </label>\n          <input type=\"checkbox\" name=\"retraitAuto\" {{checked settings.retraitAuto}}>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"effetsSpeciaux\">\n            {{ localize \"SETTINGS.EffetsSpeciaux.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.EffetsSpeciaux.Hint\" }}</span>\n            {{#unless systemInfo.isSequencerActive}}\n              <div class=\"warning\">\n                <i class=\"fas fa-exclamation-triangle\"></i>\n                {{ localize \"WARNINGS.SequencerRequired\" }}\n              </div>\n            {{/unless}}\n          </label>\n          <input type=\"checkbox\" name=\"effetsSpeciaux\" {{checked settings.effetsSpeciaux}} {{#unless systemInfo.isSequencerActive}}disabled{{/unless}}>\n        </div>\n      </div>\n    </div>\n\n    {{!-- Onglet Interface Visuelle --}}\n    <div class=\"tab\" data-group=\"primary\" data-tab=\"visual\">\n      <div class=\"settings-section\">\n        <h3 class=\"section-header\">\n          <i class=\"fas fa-monitor\"></i>\n          {{ localize \"SETTINGS.Sections.Interface\" }}\n        </h3>\n        \n        <div class=\"form-group\">\n          <label for=\"themeMode\">\n            {{ localize \"SETTINGS.ThemeMode.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.ThemeMode.Hint\" }}</span>\n          </label>\n          <select name=\"themeMode\">\n            {{#each themeModes as |label key|}}\n              <option value=\"{{key}}\" {{#ifequal ../settings.themeMode key}}selected{{/ifequal}}>\n                {{ localize label }}\n              </option>\n            {{/each}}\n          </select>\n        </div>\n        \n        <div class=\"form-group color-group\">\n          <label for=\"accentColorPrimary\">\n            {{ localize \"SETTINGS.AccentColorPrimary.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.AccentColorPrimary.Hint\" }}</span>\n          </label>\n          <div class=\"color-input-wrapper\">\n            <input type=\"color\" name=\"accentColorPrimary\" value=\"{{settings.accentColorPrimary}}\">\n            <input type=\"text\" class=\"color-text\" value=\"{{settings.accentColorPrimary}}\" readonly>\n          </div>\n        </div>\n        \n        <div class=\"form-group color-group\">\n          <label for=\"accentColorSecondary\">\n            {{ localize \"SETTINGS.AccentColorSecondary.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.AccentColorSecondary.Hint\" }}</span>\n          </label>\n          <div class=\"color-input-wrapper\">\n            <input type=\"color\" name=\"accentColorSecondary\" value=\"{{settings.accentColorSecondary}}\">\n            <input type=\"text\" class=\"color-text\" value=\"{{settings.accentColorSecondary}}\" readonly>\n          </div>\n        </div>\n        \n        <div class=\"form-group range-group\">\n          <label for=\"cornerRadius\">\n            {{ localize \"SETTINGS.CornerRadius.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.CornerRadius.Hint\" }}</span>\n            <span class=\"range-value\" data-range-display=\"cornerRadius\">{{settings.cornerRadius}}</span>px\n          </label>\n          <input type=\"range\" name=\"cornerRadius\" min=\"0\" max=\"25\" step=\"1\" value=\"{{settings.cornerRadius}}\">\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"glassEffect\">\n            {{ localize \"SETTINGS.GlassEffect.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.GlassEffect.Hint\" }}</span>\n          </label>\n          <input type=\"checkbox\" name=\"glassEffect\" {{checked settings.glassEffect}}>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"animationSpeed\">\n            {{ localize \"SETTINGS.AnimationSpeed.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.AnimationSpeed.Hint\" }}</span>\n          </label>\n          <select name=\"animationSpeed\">\n            {{#each animationSpeeds as |label key|}}\n              <option value=\"{{key}}\" {{#ifequal ../settings.animationSpeed key}}selected{{/ifequal}}>\n                {{ localize label }}\n              </option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n    </div>\n\n    {{!-- Onglet Couleurs des Tables --}}\n    <div class=\"tab\" data-group=\"primary\" data-tab=\"colors\">\n      <div class=\"settings-section\">\n        <h3 class=\"section-header\">\n          <i class=\"fas fa-table\"></i>\n          {{ localize \"SETTINGS.Sections.TableColors\" }}\n        </h3>\n        \n        <div class=\"color-grid\">\n          <div class=\"form-group color-group\">\n            <label for=\"tableTraitColor\">\n              {{ localize \"SETTINGS.TableTraitColor.Name\" }}\n            </label>\n            <div class=\"color-input-wrapper\">\n              <input type=\"color\" name=\"tableTraitColor\" value=\"{{settings.tableTraitColor}}\">\n              <input type=\"text\" class=\"color-text\" value=\"{{settings.tableTraitColor}}\" readonly>\n            </div>\n          </div>\n          \n          <div class=\"form-group color-group\">\n            <label for=\"tableTalentColor\">\n              {{ localize \"SETTINGS.TableTalentColor.Name\" }}\n            </label>\n            <div class=\"color-input-wrapper\">\n              <input type=\"color\" name=\"tableTalentColor\" value=\"{{settings.tableTalentColor}}\">\n              <input type=\"text\" class=\"color-text\" value=\"{{settings.tableTalentColor}}\" readonly>\n            </div>\n          </div>\n          \n          <div class=\"form-group color-group\">\n            <label for=\"tablePouvoirColor\">\n              {{ localize \"SETTINGS.TablePouvoirColor.Name\" }}\n            </label>\n            <div class=\"color-input-wrapper\">\n              <input type=\"color\" name=\"tablePouvoirColor\" value=\"{{settings.tablePouvoirColor}}\">\n              <input type=\"text\" class=\"color-text\" value=\"{{settings.tablePouvoirColor}}\" readonly>\n            </div>\n          </div>\n          \n          <div class=\"form-group color-group\">\n            <label for=\"tableSpesColor\">\n              {{ localize \"SETTINGS.TableSpesColor.Name\" }}\n            </label>\n            <div class=\"color-input-wrapper\">\n              <input type=\"color\" name=\"tableSpesColor\" value=\"{{settings.tableSpesColor}}\">\n              <input type=\"text\" class=\"color-text\" value=\"{{settings.tableSpesColor}}\" readonly>\n            </div>\n          </div>\n          \n          <div class=\"form-group color-group\">\n            <label for=\"tableCombatColor\">\n              {{ localize \"SETTINGS.TableCombatColor.Name\" }}\n            </label>\n            <div class=\"color-input-wrapper\">\n              <input type=\"color\" name=\"tableCombatColor\" value=\"{{settings.tableCombatColor}}\">\n              <input type=\"text\" class=\"color-text\" value=\"{{settings.tableCombatColor}}\" readonly>\n            </div>\n          </div>\n          \n          <div class=\"form-group color-group\">\n            <label for=\"tableProtectionColor\">\n              {{ localize \"SETTINGS.TableProtectionColor.Name\" }}\n            </label>\n            <div class=\"color-input-wrapper\">\n              <input type=\"color\" name=\"tableProtectionColor\" value=\"{{settings.tableProtectionColor}}\">\n              <input type=\"text\" class=\"color-text\" value=\"{{settings.tableProtectionColor}}\" readonly>\n            </div>\n          </div>\n          \n          <div class=\"form-group color-group\">\n            <label for=\"inventoryColor\">\n              {{ localize \"SETTINGS.InventoryColor.Name\" }}\n            </label>\n            <div class=\"color-input-wrapper\">\n              <input type=\"color\" name=\"inventoryColor\" value=\"{{settings.inventoryColor}}\">\n              <input type=\"text\" class=\"color-text\" value=\"{{settings.inventoryColor}}\" readonly>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"form-group button-group\">\n          <button type=\"button\" class=\"reset-colors\">\n            <i class=\"fas fa-undo\"></i>\n            {{ localize \"SETTINGS.ResetColors.Button\" }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    {{!-- Onglet Effets --}}\n    <div class=\"tab\" data-group=\"primary\" data-tab=\"effects\">\n      <div class=\"settings-section\">\n        <h3 class=\"section-header\">\n          <i class=\"fas fa-film\"></i>\n          {{ localize \"SETTINGS.Sections.AttackEffects\" }}\n        </h3>\n        \n        <div class=\"effect-category\">\n          <h4>{{ localize \"SETTINGS.BagarreEffects\" }}</h4>\n          <div class=\"form-group\">\n            <label for=\"bagarreVideoPath\">\n              {{ localize \"SETTINGS.BagarreVideo.Name\" }}\n              <span class=\"hint\">{{ localize \"SETTINGS.BagarreVideo.Hint\" }}</span>\n            </label>\n            <div class=\"file-input-wrapper\">\n              <input type=\"text\" name=\"bagarreVideoPath\" value=\"{{settings.bagarreVideoPath}}\" data-dtype=\"video\">\n              <button type=\"button\" class=\"file-picker\" title=\"{{ localize 'FILES.BrowseTooltip' }}\">\n                <i class=\"fas fa-file-import\"></i>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"bagarreSonPath\">\n              {{ localize \"SETTINGS.BagarreAudio.Name\" }}\n              <span class=\"hint\">{{ localize \"SETTINGS.BagarreAudio.Hint\" }}</span>\n            </label>\n            <div class=\"file-input-wrapper\">\n              <input type=\"text\" name=\"bagarreSonPath\" value=\"{{settings.bagarreSonPath}}\" data-dtype=\"audio\">\n              <button type=\"button\" class=\"file-picker\" title=\"{{ localize 'FILES.BrowseTooltip' }}\">\n                <i class=\"fas fa-file-import\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"effect-category\">\n          <h4>{{ localize \"SETTINGS.ChargeEffects\" }}</h4>\n          <div class=\"form-group\">\n            <label for=\"chargeVideoPath\">\n              {{ localize \"SETTINGS.ChargeVideo.Name\" }}\n              <span class=\"hint\">{{ localize \"SETTINGS.ChargeVideo.Hint\" }}</span>\n            </label>\n            <div class=\"file-input-wrapper\">\n              <input type=\"text\" name=\"chargeVideoPath\" value=\"{{settings.chargeVideoPath}}\" data-dtype=\"video\">\n              <button type=\"button\" class=\"file-picker\" title=\"{{ localize 'FILES.BrowseTooltip' }}\">\n                <i class=\"fas fa-file-import\"></i>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"chargeSonPath\">\n              {{ localize \"SETTINGS.ChargeAudio.Name\" }}\n              <span class=\"hint\">{{ localize \"SETTINGS.ChargeAudio.Hint\" }}</span>\n            </label>\n            <div class=\"file-input-wrapper\">\n              <input type=\"text\" name=\"chargeSonPath\" value=\"{{settings.chargeSonPath}}\" data-dtype=\"audio\">\n              <button type=\"button\" class=\"file-picker\" title=\"{{ localize 'FILES.BrowseTooltip' }}\">\n                <i class=\"fas fa-file-import\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"effect-category\">\n          <h4>{{ localize \"SETTINGS.PouvoirEffects\" }}</h4>\n          <div class=\"form-group\">\n            <label for=\"pouvoirVideoPath\">\n              {{ localize \"SETTINGS.PouvoirVideo.Name\" }}\n              <span class=\"hint\">{{ localize \"SETTINGS.PouvoirVideo.Hint\" }}</span>\n            </label>\n            <div class=\"file-input-wrapper\">\n              <input type=\"text\" name=\"pouvoirVideoPath\" value=\"{{settings.pouvoirVideoPath}}\" data-dtype=\"video\">\n              <button type=\"button\" class=\"file-picker\" title=\"{{ localize 'FILES.BrowseTooltip' }}\">\n                <i class=\"fas fa-file-import\"></i>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"form-group\">\n            <label for=\"pouvoirSonPath\">\n              {{ localize \"SETTINGS.PouvoirAudio.Name\" }}\n              <span class=\"hint\">{{ localize \"SETTINGS.PouvoirAudio.Hint\" }}</span>\n            </label>\n            <div class=\"file-input-wrapper\">\n              <input type=\"text\" name=\"pouvoirSonPath\" value=\"{{settings.pouvoirSonPath}}\" data-dtype=\"audio\">\n              <button type=\"button\" class=\"file-picker\" title=\"{{ localize 'FILES.BrowseTooltip' }}\">\n                <i class=\"fas fa-file-import\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"form-group button-group\">\n          <button type=\"button\" class=\"test-effects\">\n            <i class=\"fas fa-play\"></i>\n            {{ localize \"SETTINGS.TestEffects.Button\" }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    {{!-- Onglet Avancé --}}\n    <div class=\"tab\" data-group=\"primary\" data-tab=\"advanced\">\n      <div class=\"settings-section\">\n        <h3 class=\"section-header\">\n          <i class=\"fas fa-tools\"></i>\n          {{ localize \"SETTINGS.Sections.Advanced\" }}\n        </h3>\n        \n        <div class=\"form-group\">\n          <label for=\"debugMode\">\n            {{ localize \"SETTINGS.DebugMode.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.DebugMode.Hint\" }}</span>\n          </label>\n          <input type=\"checkbox\" name=\"debugMode\" {{checked settings.debugMode}}>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"hideWindow\">\n            {{ localize \"SETTINGS.HideWindow.Name\" }}\n            <span class=\"hint\">{{ localize \"SETTINGS.HideWindow.Hint\" }}</span>\n          </label>\n          <input type=\"checkbox\" name=\"hideWindow\" {{checked settings.hideWindow}}>\n        </div>\n        \n        <div class=\"system-info\">\n          <h4>{{ localize \"SETTINGS.SystemInfo\" }}</h4>\n          <div class=\"info-grid\">\n            <div class=\"info-item\">\n              <strong>{{ localize \"SETTINGS.SystemVersion\" }}:</strong>\n              <span>{{systemInfo.version}}</span>\n            </div>\n            <div class=\"info-item\">\n              <strong>{{ localize \"SETTINGS.FoundryVersion\" }}:</strong>\n              <span>{{systemInfo.foundryVersion}}</span>\n            </div>\n            <div class=\"info-item\">\n              <strong>{{ localize \"SETTINGS.SequencerStatus\" }}:</strong>\n              <span class=\"{{#if systemInfo.isSequencerActive}}success{{else}}warning{{/if}}\">\n                {{#if systemInfo.isSequencerActive}}\n                  <i class=\"fas fa-check\"></i> {{ localize \"SETTINGS.Active\" }}\n                {{else}}\n                  <i class=\"fas fa-times\"></i> {{ localize \"SETTINGS.Inactive\" }}\n                {{/if}}\n              </span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"form-group button-group\">\n          <button type=\"button\" class=\"export-settings\">\n            <i class=\"fas fa-download\"></i>\n            {{ localize \"SETTINGS.Export.Button\" }}\n          </button>\n          <button type=\"button\" class=\"import-settings\">\n            <i class=\"fas fa-upload\"></i>\n            {{ localize \"SETTINGS.Import.Button\" }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"form-footer\">\n    <button type=\"submit\" name=\"submit\">\n      <i class=\"fas fa-save\"></i>\n      {{ localize \"SETTINGS.Save\" }}\n    </button>\n    <button type=\"button\" name=\"close\">\n      <i class=\"fas fa-times\"></i>\n      {{ localize \"Cancel\" }}\n    </button>\n  </div>\n</form>