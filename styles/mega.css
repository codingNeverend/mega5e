@import url("https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Bruno+Ace&display=swap");

:root {
  --blur-filter-low: saturate(150%) blur(50px);
  --blur-filter-med: saturate(150%) blur(50px);
  --blur-filter-high: saturate(150%) blur(150px);
  --corner-radius: 15px;
  --text-color: #1e1e1e;
  --text-heading: white;
  --blur-background-high: #ffffffa8;
  --blur-background-med: #ffffffa8;
  --blur-background-low: #ffffffa8;
  --blur-background-thick: #bdbdbdf0;
  --blur-foreground: #212121a3;
  --blur-foreground-bright: #171717de;
  --background-opposite: #171717de;
  --icon-invert: invert(1);
  --drop-shadow: 0 0 9px #0000006e;
  --barely-visible: #0000004a;
  --control-tools-fix: -5px;
  --table-spes: #ff81d8ff;
  --button-light-color: #fff;
  --button-dark-color: #374151;
  --dark-color-text: #D0B8A3;
}

body.game .app {
  /* --background-parchment: url(../images/parchment.png) repeat; */
}

body {
  --color-scrollbar: var(--accent-color);
  --color-scrollbar-track: transparent;
  --color-scrollbar-border: var(--accent-color);
  cursor: var(--cursor), auto;
}

#mega-logo {
  position: absolute;
  top: 40px; /* au lieu de 8px */
  left: 150px;
  z-index: 1000;
}

a:hover,
a:active,
a.active {
  color: #000;
  text-shadow: 1px 1px 1px var(--text-color);
}

/* Rotation for combat section labels */
.rotation180 {
  writing-mode: vertical-lr;
  text-orientation: mixed;
  transform: rotate(180deg);
  vertical-align: middle;
  text-align: center;
  width: 15px !important;
  min-width: 15px !important;
  max-width: 15px !important;
}

.svg {
  border: none;
  border-radius: 60%;
  background-color: rgba(var(--accent-color), 0.1);
  transition: box-shadow 0.3s ease;
}

img {
  max-width: 100%;
  display: inline;
}

.svg:hover,
.svg:focus,
.svg:active,
.svg.active {
  background-color: var(--accent-color);
  text-shadow: 1px 1px 1px var(--text-color);
}

canvas#board {
  cursor: inherit !important;
}
#controls .scene-control,
#controls .control-tool {
  cursor: inherit !important;
}
select {
  cursor: inherit !important;
}

a {
  cursor: inherit !important;
}

button.ui-control,
input {
  flex: none;
  width: var(--control-size);
  height: var(--control-size);
  justify-content: center;
  align-content: center;
  background: var(--control-bg-color);
  border: 1px solid var(--control-border-color);
  border-radius: var(--corner-radius);
  color: var(--control-icon-color);
  font-size: var(--font-size-16);
  pointer-events: all;
  transition:
    border 0.25s,
    color 0.25s;
  text-shadow: none;
}

button.ui-control:focus,
a.ui-control:focus,
li.ui-control:focus,
.placeable-hud .control-icon:focus,
.placeable-hud input:focus {
  outline: none;
  box-shadow: none;
  text-shadow: none;
}

button.ui-control:hover,
a.ui-control:hover,
li.ui-control:hover,
.placeable-hud .control-icon:hover,
.placeable-hud input:hover {
  text-shadow: none;
  /* background: var(--accent-color); */
  border-color: var(--accent-color);
  /* color: var(--control-hover-icon-color); */
  color: var(--accent-color);
  border-bottom: 1px solid var(--accent-color);
  box-shadow: 0 0 10px var(--accent-color);
}
button.ui-control.toggle,
a.ui-control.toggle,
li.ui-control.toggle,
.placeable-hud .control-icon.toggle,
.placeable-hud input.toggle {
  --control-bg-color: var(--toggle-bg-color);
  --control-border-color: var(--toggle-border-color);
  --control-active-bg-color: var(--toggle-active-bg-color);
  --control-active-border-color: var(--toggle-active-border-color);
  --control-hover-border-color: var(--toggle-active-border-color);
}
button.ui-control[aria-pressed="true"],
a.ui-control[aria-pressed="true"],
li.ui-control[aria-pressed="true"],
.placeable-hud .control-icon[aria-pressed="true"],
.placeable-hud input[aria-pressed="true"] {
  text-shadow: none;
  /* background: var(--accent-color); */
  border-color: var(--accent-color);
  /* color: var(--control-hover-icon-color); */
  color: var(--accent-color);
  border-bottom: 1px solid var(--accent-color);
  box-shadow: 0 0 10px var(--accent-color);
}

/*================chat===============*/

.chat-message {
  --color-blind-background: #000000;
  --color-blind-border: #6b476b;
  --color-emote-background: #f3edde;
  --color-emote-border: #887c5d;
  --color-whisper-background: #e8e8ef;
  --color-whisper-border: #545469;
  background:
    linear-gradient(var(--opacity-clear-color), var(--opacity-clear-color)),
    url("../images/parchment_dark.png");
  --chat-message-border-color: #6f6c66;
  border-radius: var(--corner-radius);
  box-shadow: 0 0 10px var(--color-shadow-dark);
  margin: 10px;
  border-color: var(--accent-color) !important;
}

#sidebar-content #chat .chat-log {
  border: none;
  border-radius: calc(var(--corner-radius) * 0.8);
  box-shadow: 10px 0 0 var(--color-shadow-dark);
  margin: 5px;
}

/*===============  COMBAT   ======================*/

#combat #combat-round .encounters a,
#combat #combat-round .encounters h4,
#combat #combat-round .encounters h3,
#combat li.combatant .token-resource {
  color: var(--text-color);
  border: none;
}

#combat #combat-controls {
  color: var(--text-color);
  background: var(--blur-foreground);
  border: none;
}

#combat li.combatant .token-name .combatant-control {
  color: var(--text-color) !important;
}
#combat li.combatant .token-name img.token-effect {
  filter: var(--icon-invert);
}

#combat li.combatant.active {
  background: var(--blur-foreground);
  font-size: 12pt;
}
#combat li.combatant .token-name {
  flex: 1;
  overflow: hidden;
  margin: 0 5px;
  text-shadow: none;
  color: black;
}
.control-icon.active > img {
  filter: none !important;
}
.control-icon.combat.active {
  background: var(--accent-color) !important;
}
#combat #combat-round {
  border: none;
}
#combat li.combatant .token-name h4 {
  font-size: 13pt;
  font-weight: 600;
}

/*===============  CONTROLS   ======================*/
#controls {
  flex: 1;
  padding: 0 15px;
  overflow: hidden;
}
#controls ol.control-tools {
  margin: 0;
  padding: 10px;
  list-style: none;
  background: none;
  box-shadow: none;
  border: none;
  pointer-events: none;
  /* Primary Controls */
  /* Secondary Controls */
  /* Disabled Controls */
  /* Control Buttons */
}
#controls ol.control-tools.main-controls {
  flex: 0;
  flex-wrap: nowrap;
  margin-right: 10px;
}
#controls ol.control-tools.sub-controls {
  flex-wrap: wrap;
  display: none;
  align-content: flex-start;
}
#controls ol.control-tools.sub-controls.active {
  display: inherit;
}
#controls ol.control-tools.sub-controls > li {
  margin-right: 5px;
}
#controls ol.control-tools.disabled {
  opacity: 0.4;
  pointer-events: none;
}
#controls ol.control-tools > li {
  flex: none;
  width: 36px;
  height: 36px;
  margin: 0 0 10px 0;
  padding: 4px;
  box-sizing: content-box;
  font-size: 24px;
  line-height: 36px;
  background: var(--blur-background-high); /* couleur de fond des contrôles */
  box-shadow: 0 0 10px var(--color-shadow-dark);
  /* color: var(--text-color); */
  text-align: center;
  border: 1px solid #00000072;
  border-radius: var(--corner-radius);
  cursor: inherit;
  pointer-events: all;
  display: inline-grid;
  place-content: center;
  /* Toggled Buttons */
}
#controls ol.control-tools > li.active,
#controls ol.control-tools > li:hover {
  color: var(--accent-color);
  border: 1px solid var(--accent-color);
  border-bottom: 1px solid var(--accent-color);
  box-shadow: 0 0 10px var(--accent-color);
  padding: 4px;
}
#controls ol.control-tools > li.toggle {
  background: rgba(30, 0, 60, 0.5);
  border: 1px solid #3b1893;
}
#controls ol.control-tools > li.toggle.active,
#controls ol.control-tools > li.toggle:hover {
  background: rgba(60, 0, 120, 0.75);
  border: 1px solid #9b8dff;
  box-shadow: 0 0 10px #9b8dff;
}
#controls ol.control-tools .has-notes::after {
  color: #3b1893;
  opacity: 1;
}

/* ---------------------------------------- */
/*  Hotbar                                  */
/* ---------------------------------------- */
#hotbar {
  z-index: calc(var(--z-index-ui) + 10);
  width: var(--hotbar-width);
  height: var(--hotbar-height);
  pointer-events: none;
  flex-wrap: nowrap;
  margin-bottom: 10px;
}
#hotbar .bar-controls {
  flex: 0 0 32px;
  margin: 0 2px;
  text-align: center;
  color: var(--text-color);
  background: var(--blur-background-high); /*fond des controles de hotbar*/
  border: 1px solid #00000072;
  /* box-shadow: 0 0 10px var(--color-shadow-dark); */
  border-radius: var(--corner-radius);
}
#hotbar .bar-controls a {
  display: block;
}
#hotbar .bar-controls a.page-control {
  font-size: var(--font-size-16);
  line-height: 1;
  flex: none;
}
#hotbar .bar-controls span.page-number {
  display: block;
  font-size: var(--font-size-16);
  line-height: 1;
}
#hotbar #action-bar {
  flex: 1;
  height: 100%;
  pointer-events: all;
  flex-wrap: nowrap;
}
#hotbar #action-bar.collapsed {
  display: none;
  pointer-events: none;
}
#hotbar #macro-list {
  flex-wrap: nowrap;
  height: 100%;
  list-style: none;
  margin: 0 2px;
  padding: 0px;
  border: 0px solid var(--color-border-dark);
  border-radius: 3px;
  display: grid;
  grid-template-columns: repeat(10, var(--macro-size));
}
#hotbar.locked #macro-list {
  border-color: var(--color-border-highlight);
}
#hotbar .macro {
  position: relative;
  width: var(--macro-size);
  height: var(--macro-size);
  border: 1px solid #00000072; /*bordure de la hotbar*/
  border-radius: var(--corner-radius);
  background: var(--blur-background-high); /* couleur de fond de la hotbar */
  box-shadow: 0 0 10px var(--color-shadow-dark);
  cursor: inherit;
}
#hotbar .macro.inactive {
  box-shadow: 0 0 5px #444 inset;
}
#hotbar .macro:hover {
  box-shadow: 0 0 10px var(--color-shadow-highlight) inset;
}
#hotbar .macro.active:hover {
  border: 1px solid var(--color-border-highlight-alt);
}
#hotbar .macro .macro-key {
  position: absolute;
  top: 2px;
  right: 2px;
  padding: 1px 3px;
  background: #111;
  color: var(--color-text-light-highlight);
  font-weight: bold;
  pointer-events: none;
}
#hotbar .macro .macro-icon {
  object-fit: cover;
  object-position: 50% 0;
  border: none;
  height: calc(var(--macro-size) - 2px);
  width: calc(var(--macro-size) - 2px);
}
#hotbar #hotbar-directory-controls,
#hotbar #hotbar-page-controls {
  pointer-events: all;
}
#hotbar #hotbar-directory-controls a {
  line-height: 24px;
}
#hotbar #hotbar-page-controls {
  justify-content: space-between;
}
#hotbar #hotbar-lock {
  justify-content: center;
}
#hotbar #hotbar-lock a.page-control {
  font-size: var(--font-size-14);
}
@media (max-width: 1120px) {
  #hotbar {
    width: calc(var(--hotbar-width) / 2);
    height: calc(var(--hotbar-height) * 2);
  }
  #hotbar #macro-list {
    grid-template-columns: repeat(5, 50px);
  }
  #hotbar .bar-controls {
    justify-content: space-between;
  }
  #hotbar .bar-controls a {
    flex: 0;
  }
  #hotbar .bar-controls span.page-number {
    line-height: unset;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
  }
}

/* .entry-name {
  color: black;
} */

/** De controls à journal **/

/***journal à players **/
.journal-header input {
  width: 100%;
  /* color: white;
  background-color: var(--accent-color); */
}

/*========================== Players ==================*/

/* ----------------------------------------- */
/* Scrollbar
/* ----------------------------------------- */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  box-shadow: 0 0 1px #999 inset;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb {
  outline: none;
  border-radius: 3px;
  background: var(--color-scrollbar);
  border: 1px solid var(--accent-color);
}
* {
  scrollbar-width: thin;
  scrollbar-color: var(--accent-color) var(--color-scrollbar-track);
}

@font-face {
  font-family: "Mega";
  src: url("../fonts/Sansation_Regular.ttf");
}

body {
  font-family: "Mega", sans-serif;
  font-size: var(--font-size-14);
}

.app {
  background: none;
  box-shadow: none;
  color: var(--text-color);
}

.app.sidebar-popout {
  border: none;
  backdrop-filter: var(--blur-filter-med);
}
.app.sidebar-popout .window-content {
  background: var(--blur-background-med);
}

.window-app {
  border-radius: var(--corner-radius);
  background-image: url("../images/parchment.png");
  backdrop-filter: var(--blur-filter-low);
  box-shadow: 0 0 10px var(--color-shadow-dark);
  border: none;
  color: var(--accent-color);
  overflow: visible; /* Permet le débordement pour les éléments positionnés absolument */
}

.window-app .window-header a:hover {
  color: var(--accent-color);
}

/* Correction spécifique pour l'icône de fermeture qui ne s'affiche pas */
.window-header .fa-xmark,
.window-header i.fa-xmark {
  font-family: inherit;
  font-weight: inherit;
}

.window-header .fa-xmark::before,
.window-header i.fa-xmark::before {
  content: "x"; /* Caractère × (multiplication) comme fallback */
  font-size: 1.2em;
  font-weight: bold;
}

/* .window-header {
  border-bottom: 1px dashed grey;
  background-image: url("../images/parchment.png");
} */

.window-app .window-content {
  border-radius: 0 0 var(--corner-radius) var(--corner-radius);
  border: none;
  /* background:none; */
  /* background-image: url("../images/parchment.png"); */
  height: 100%;
}

.mega .window-content {
  overflow-y: hidden;
  overflow-x: visible; /* Permet le débordement horizontal pour la sidebar */
  /* background-image: url("../images/parchment.png"); */
  font-family: "Mega", sans-serif;
  margin: 0px 0px 20px 0px;
  padding: 0px 0px 20px 0px;
  flex-direction: row;
  border: none;
  border-radius: 0 0 var(--corner-radius) var(--corner-radius);
}

/* .mega input,
.mega textarea,
.mega select {
  color: var(--text-color) !important;
}

.mega input[type="text"],
.mega input[type="number"],
.mega input[type="password"],
.mega input[type="date"],
.mega input[type="time"],
.mega textarea,
.mega select {
  color: var(--text-color) !important;
} */

.mega .sheet-header {
  height: 100px;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-end;
  margin: 0 0 0 0;
  padding: 0 2px;
  font-size: 0px;
  /* background-image: url("../images/banniereMega.png"); */
}

/* Règles ultra-spécifiques pour résister aux changements dynamiques de FoundryVTT */
body .window-app.mega input,
body .window-app.mega textarea,
body .window-app.mega select,
body.game .window-app.mega input,
body.game .window-app.mega textarea,
body.game .window-app.mega select,
html body .window-app.mega input,
html body .window-app.mega textarea,
html body .window-app.mega select,
#ui .window-app.mega input,
#ui .window-app.mega textarea,
#ui .window-app.mega select,
body #ui .window-app.mega input,
body #ui .window-app.mega textarea,
body #ui .window-app.mega select {
  color: var(--text-color) !important;
}

/* RÈGLES ULTRA-AGRESSIVES avec spécificité maximale pour contrer FoundryVTT */
html body #ui .window-app.mega .sheet-body input,
html body #ui .window-app.mega .sheet-body textarea,
html body #ui .window-app.mega .sheet-body select,
html body #ui .window-app.mega .tab input,
html body #ui .window-app.mega .tab textarea,
html body #ui .window-app.mega .tab select,
html body .game.system-mega .window-app.mega input,
html body .game.system-mega .window-app.mega textarea,
html body .game.system-mega .window-app.mega select,
html body.game.system-mega #ui .window-app.mega input,
html body.game.system-mega #ui .window-app.mega textarea,
html body.game.system-mega #ui .window-app.mega select {
  color: #1e1e1e !important;
}

/* RÈGLE SÉLECTIVE - Force seulement les champs de saisie dans les sheets MEGA */
.window-app.mega .sheet-body input,
.window-app.mega .sheet-body textarea,
.window-app.mega .sheet-body select,
.window-app.mega .tab input,
.window-app.mega .tab textarea,
.window-app.mega .tab select,
.window-app.mega .window-content input:not(.sheet-header input),
.window-app.mega .window-content textarea:not(.sheet-header textarea),
.window-app.mega .window-content select:not(.sheet-header select),
.application.mega .sheet-body input,
.application.mega .sheet-body textarea,
.application.mega .sheet-body select,
.application.mega .tab input,
.application.mega .tab textarea,
.application.mega .tab select {
  color: #1e1e1e !important;
}
}

.mega .sheet-pnj-header {
  height: 100px;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-end;
  /* background-image: url('../images/banniere_defaut.png');  */
  margin: 0 0 0 0;
  padding: 0 2px;
  font-size: 0px;
}

.mega .sheet-header-item {
  height: 150px;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-end;
  margin: 0 0 0 0;
  padding: 0 2px;
}

.mega .sheet-header-item .profile-img {
  flex: 0 0 150px;
  height: 150px;
  margin-right: 10px;
  border: none;
  background-image: url("../images/triangle_item.png");
  background-repeat: no-repeat;
  background-position: center;
}

.mega .sheet-header .profile-img {
  flex: 0 0 100px;
  height: 100px;
  margin-right: 0px;
  border: none;
}

.mega .sheet-pnj-header .profile-img {
  flex: 0 0 100px;
  height: 100px;
  margin-right: 0px;
  border: none;
}

.mega .sheet-header .header-fields {
  flex: 1;
  height: 150px;
}

.mega .sheet-pnj-header .header-fields {
  flex: 1;
  height: 150px;
}

.mega .sheet-header-item .header-fields-item {
  flex: 1;
  height: 150px;
  display: flex;
  flex-direction: column;
}

.mega .sheet-header charname {
  height: 0px;
  padding: 0px;
  margin: 5px 0;
  border-bottom: 0;
}

.mega .sheet-pnj-header charname {
  height: 0px;
  padding: 0px;
  margin: 5px 0;
  border-bottom: 0;
}

.mega .sheet-header-item charname {
  height: 0px;
  padding: 0px;
  margin: 5px 0;
  border-bottom: 0;
}

.mega .sheet-header .charname input {
  width: 300px;
  height: 100%;
  font-size: 27px;
  margin: 0;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  /* text-shadow: 1px 1px 5px grey; */
  /* -webkit-text-fill-color: var(--opacity-color); */
  font-weight: bolder;
  font-family: "Mega";
  /* -webkit-text-stroke: 0.1px black; */
  text-decoration: underline var(--accent-color);
}

.mega .sheet-pnj-header .charname input {
  width: 100%;
  height: 100%;
  font-size: 30px;
  margin: 0;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  color: #e5d72e;
  text-shadow: 1px 1px 5px #55544d;
  font-weight: bold;
}

.mega .sheet-header-item .charname input {
  width: 100%;
  height: 100%;
  font-size: 18px;
  margin: 0;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
}

.mega .equipement input {
  cursor: inherit;
}

.mega .sheet-header .voie input {
  width: 25%;
  height: 100%;
  margin: 0;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
  color: var(--text-color);
  /* text-shadow: black 0.1em 0.1em 0.2em; */
  font-size: 20px;
  font-family: "Mega";
}

.mega .nom {
  filter: drop-shadow(3px 0 0 white) drop-shadow(0 3px 0 white)
    drop-shadow(-3px 0 0 white) drop-shadow(0 -3px 0 white);
  color: var(--accent-color);
}

.mega .sheet-header .sphere input {
  width: 55%;
  height: 100%;
  margin: 0;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
  color: var(--text-color);
  /* text-shadow: black 0.1em 0.1em 0.2em; */
  box-shadow: none;
  font-size: 20px;
  font-family: "Mega";
}

.mega .sheet-header .sphere textarea {
  width: 65%;
  height: 80%;
  margin: 0;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  /* font-weight: bold; */
  color: black;
  /* text-shadow: black 0.1em 0.1em 0.2em; */
  font-size: 18px;
  font-family: "Mega";
  cursor: inherit;
}

.mega .sheet-header .voie_pnj input {
  width: 65%;
  height: 100%;
  margin: 0;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
  color: rgba(FF, FF, FF, 0);
  font-size: 20px;
}

.mega .resource {
  /* width: 50%; */
  /* height: 30px; */
  float: center;
  text-align: center;
  font-weight: bold;
  /* Vie et melee */
  font-size: 16px;
  font-family: "Mega";
  padding: 0px 0px;
  vertical-align: top;
}

.mega .reduit {
  /* float: right; */
  text-align: right;
  font-weight: bold;
  /* Vie et melee */
  font-size: 14px;
  font-family: "Mega";
  padding: 0px 0px;
}

.mega .resource input {
  width: 30px;
  height: 28px;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
  font-size: 14px;
  text-align: center;
  font-family: "Mega";
}

.mega .resource_item {
  width: 50%;
  height: 30px;
  float: left;
  text-align: left;
  font-weight: bold;
  /* Vie et melee */
  font-size: 16px;
}

.mega .resource_item input {
  width: 40px;
  height: 28px;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
  font-size: 14px;
  text-align: center;
}

.mega .resource_item_def {
  width: 50%;
  height: 30px;
  float: left;
  text-align: left;
  font-weight: bold;
  /* Vie et melee */
  font-size: 14px;
}

.mega .resource_item_def input {
  width: 20px;
  height: 28px;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
  font-size: 14px;
  text-align: center;
}

.mega .spes {
  width: 230px;
  height: 20px;
  float: left;
  border: none;
  text-align: left;
  background-color: rgba(0, 0, 0, 0);
}

.mega .spes_edit {
  width: 230px;
  height: 20px;
  float: left;
  border: none;
  text-align: left;
  background-color: rgba(0, 0, 0, 0);
  font-family: "Mega";
}

.mega .spes input {
  border: none;
  background-color: rgba(0, 0, 0, 0);
}
.mega table.spes {
  border: 1px solid #1c6ea4;
  text-align: center;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  background: rgb(83, 83, 201);
  background: linear-gradient(
    90deg,
    rgba(83, 83, 201, 1) 0%,
    rgba(222, 179, 59, 0.14609593837535018) 0%,
    rgba(255, 246, 143, 0.1) 100%
  );
}

.mega table.spes2:hover{
box-shadow:
    0 0 0 2px rgba(201, 164, 83, 0.4),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.spes td,
table.spes th {
  padding: 2px 2px;
  font-size: 12px;
}

.mega table.spes tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}

.mega table.spes thead th {
  color: #ffffff;
  text-align: center;
  font-size: 15px;
}
.mega table.spes thead th:first-child {
  border-left: none;
}

.mega table.spes tfoot .links {
  text-align: right;
}

.mega table.spes tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.mega ::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.mega ::-webkit-scrollbar-track {
  box-shadow: 0 0 1px #999 inset;
  border-radius: 4px;
}
.mega ::-webkit-scrollbar-thumb {
  outline: none;
  border-radius: 3px;
  background: #ffae00;
  border: 1px solid var(--color-border-highlight);
}

/* .mega .tabs .item {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-center;
  flex-grow: 1;
  border: var(--opacity-color) 1px solid;
  border-bottom: none;
  background: var(--opacity-clear-color);
  font-size: 13px;
  margin-top: 0px;
  font-weight: bold;
  justify-content: center;
  align-items: center;
  border-radius: 4px 4px 0px 0px;
} */

/* .mega .tabs .item.active {
  background-color: var(--accent-color);
  text-shadow: none;
} */

/* .mega .tabs .item:hover {
  background-color: var(--accent-color);
  text-shadow: none;
} */

/* Main content layout with side navigation */
.mega .main-content {
  display: flex;
  height: calc(100% - 180px);
  /* height:100%; */
  position: relative;
}

.mega .sheet-body {
  flex: 1;
  /* overflow-y: auto; */
  margin-right: 0;
}

/* Invisible trigger zone on the right side of the sheet */
.mega .side-trigger-zone {
  position: absolute;
  right: 0;
  top: 100px;
  width: 20px;
  height: calc(100% - 200px);
  z-index: 1001;
  background: transparent;
}

/* Side navigation styles - positioned outside the entire fiche */
.mega .side-tabs {
  position: fixed;
  right: -65px;
  top: 50%;
  transform: translateY(-50%);
  width: 80px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 1002;
  transition: all 0.3s ease;
  visibility: hidden;
  opacity: 0;
  pointer-events: all;
}

/* Show buttons when hovering the trigger zone or the buttons themselves */
.mega .side-trigger-zone:hover ~ .side-tabs,
.mega .side-tabs:hover {
  
  visibility: visible;
  opacity: 1;
}

.mega .side-tab-item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  background: var(--opacity-clear-color);
  border: var(--opacity-color) 2px solid;
  border-radius: 12px;
  color: var(--text-color);
  text-decoration: none;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
}

.mega .side-tab-item:hover {
  background-color: var(--accent-color);
  transform: scale(1.1);
  box-shadow: 0 6px 12px rgba(0,0,0,0.4);
}

.mega .side-tab-item.active {
  background-color: var(--accent-color);
  transform: scale(1.1);
  box-shadow: 0 6px 12px rgba(0,0,0,0.4);
  border-color: var(--accent-color);
}




/* Responsive adjustments for smaller windows */
@media (max-width: 1000px) {
  .mega .side-tabs {
    right: -65px;
    visibility: hidden;
    opacity: 0;
  }
  
  .mega .side-trigger-zone:hover ~ .side-tabs,
  .mega .side-tabs:hover {
    right: -25px;
    visibility: visible;
    opacity: 1;
  }
  
  .mega .side-tab-item {
    width: 45px;
    height: 45px;
    font-size: 16px;
  }
}

/* Ensure tab content is visible */
.mega .tab {
  display: none;
}

.mega .tab.active {
  display: block;
}

.mega .sheet-body {
  overflow: auto;
  margin: 0 0 0 0;
  padding: 0 0 0 0;
}

.mega .sheet-body table {
  background-color: var(--opacity-color);
  border-color: var(--accent-color);
}

.mega .itemsheet-body {
  overflow: auto;
  margin: 10px;
  padding: 0 5px;
}

/* Permettre le débordement pour la sidebar des PNJ */
.window-app.mega.pnj,
.window-app.mega.pnj .window-content,
.window-app.mega.pnj form {
  overflow: visible !important;
}

/* Forcer le débordement pour toutes les feuilles d'acteur PNJ */
.actor.sheet.pnj,
.actor.sheet.pnj .window-content,
.actor.sheet.pnj form {
  overflow: visible !important;
}

.mega .pnj-sheet-body {
  overflow: auto;
  margin: 0 0 0 0;
  padding: 0 0 0 0;
  position: relative; /* Important pour le positionnement absolu des enfants */
  /* background-image: url('../images/fond_fiche_pnj.webp'); */
}

.mega .couverture {
  background-image: url("../images/masque.png");
}

.mega .editor,
.mega .editor-content {
  height: 480px;
}
.mega .item-list {
  list-style: none;
  margin: 7px 0;
  padding: 0;
  overflow-y: auto;
}
.mega .item-list .item {
  height: 30px;
  line-height: 24px;
  padding: 3px 40px;
  border-bottom: 1px solid #bbb;
}
.mega .item-list .item img {
  flex: 0 0 24px;
  margin-right: 5px;
  border: none;
  width: 24px;
  height: 24px;
}
.mega .item-list .item-name {
  margin: 0;
  font-size: 13px;
  font-weight: bold;
}
.mega .item-list .item-controls {
  justify-content: space-around;
}
.mega .attributes-header {
  padding: 5px;
  margin: 0px 0;
  /* border: 1px solid #AAA;  */
  border-radius: 2px;
  text-align: center;
  font-weight: bold;
}
.mega .attributes-header .attribute-label {
  flex: 1.5;
}
.mega .attributes-header .attribute-control {
  flex: 0 0 20px;
}
.mega .attributes-list {
  list-style: none;
  margin: 0;
  padding: 0;
}
.mega .attributes-list li > * {
  margin: 0 3px;
  height: 28px;
  line-height: 24px;
  /* background: transparent; */
  border: none;
  border-radius: 0;
  /* border-bottom: 1px solid #AAA; */
}
.mega .attributes-list a.attribute-control {
  flex: 0 0 20px;
  text-align: center;
  line-height: 28px;
  border: none;
}
.mega.sheet.actor {
  min-width: 200px;
  min-height: 200px;
}
.mega.sheet.item {
  min-width: 480px;
  min-height: 400px;
}

.mega .level {
  width: 30px;
  height: 25px;
  text-align: center;
  border-radius: 100px;
}

.mega .comb {
  width: 10px;
  height: 20px;
  border: none;
  text-align: center;
  font-size: 14px;
}

.mega .comb2 {
  width: 10px;
  height: 20px;
  border: none;
  text-align: left;
}

.mega input.comb:hover {
  color: var(--accent-color);
  cursor: inherit;
}

.mega .cumul input {
  width: 30px;
  border: none;
}

.mega .combat {
  width: 40px;
  height: 25px;
  text-align: center;
}

@keyframes glow {
  from {
    text-shadow:
      0 0 10px #fff,
      0 0 20px #fff,
      0 0 30px #00c32e,
      0 0 40px #00c32e,
      0 0 50px #00c32e,
      0 0 60px #00c32e,
      0 0 70px #00c32e;
  }
  to {
    text-shadow:
      0 0 20px #fff,
      0 0 30px #4ffd78,
      0 0 40px #4ffd78,
      0 0 50px #4ffd78,
      0 0 60px #4ffd78,
      0 0 70px #4ffd78,
      0 0 80px #4ffd78;
  }
}

.result_diff {
  background-color: var(--opacity-color);
  /* color:white; */
  font-size: 16px;
  text-align: left;
  border: solid 1px var(--accent-color);
  padding: 5px;
  box-shadow: 0 0px 10px var(--accent-color);
  font-weight: 400;
  text-shadow: 2px 2px 2px var(--accent-color);
}

.chat_effet_immediat {
  font-size: 16px;
  background-color: rgb(0, 128, 0, 0.8);
  text-align: center;
  padding: 5px;
}

.chat_effet_def {
  font-size: 16px;
  background-color: rgb(24, 101, 125, 0.8);
  text-align: center;
  padding: 5px;
}

.chat_effet_action {
  font-size: 16px;
  background-color: rgb(51, 206, 255, 0.8);
  text-align: center;
  padding: 5px;
}
.chat_effet_att {
  font-size: 16px;
  background-color: rgb(255, 0, 0, 0.8);
  text-align: center;
  padding: 5px;
}

.mega .img_arme {
  background-image: url("../../../modules/JB2A_DnD5e/Library/Generic§Weapon_Attacks/Melee/Club01_01_Regular_White_Thumb.webp");
  background-color: #4ffd78;
}

.mega .active_arme {
  /* text-shadow: 1px -1px 0 #767676, -1px 2px 1px #737272, -2px 4px 1px #767474, 0px -1px 1px rgba(206,89,55,0); */
  /* font-weight: bold; */
  -ms-transform: scale(1.5); /* IE 9 */
  -webkit-transform: scale(1.5); /* Chrome, Safari, Opera */
  transform: scale(1.5);
}
.mega .clic_mainsnues {
  font-weight: bold;
  /* text-shadow: 0 0 10px #e17810, 0 0 20px #e17810, 0 0 42px #e17810, 0 0 82px #e17810,0 0 92px #e17810; */
  border-width: 1px;
  color: #000000;
  border-radius: 5px;
  cursor: inherit;
}

.mega .clic_mainsnues:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.mega .active_protection_p1:hover,
.mega .active_protection_p2:hover,
.mega .active_protection_p3:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

/* Encadré vert pour les lignes de protection actives */
.mega .active_protection_p1[data-type="text"][value="p1"]:has(b) tr,
.mega .active_protection_p2[data-type="text"][value="p2"]:has(b) tr,
.mega .active_protection_p3[data-type="text"][value="p3"]:has(b) tr {
  border: 2px solid #00ff00;
  border-radius: 5px;
  background-color: rgba(0, 255, 0, 0.1);
}

/* Alternative si :has n'est pas supporté - cibler directement le parent tr */
.mega table.protections tr:has(.active_protection_p1 b),
.mega table.protections tr:has(.active_protection_p2 b),
.mega table.protections tr:has(.active_protection_p3 b) {
  border: 2px solid #00ff00;
  border-radius: 5px;
  background-color: rgba(0, 255, 0, 0.1);
}

/* Encadré vert pour les lignes de protection actives dans la fiche PNJ */
.mega table.equipement tr:has(.active_protection_p1 b),
.mega table.equipement tr:has(.active_protection_p2 b),
.mega table.equipement tr:has(.active_protection_p3 b) {
  border: 2px solid #00ff00;
  border-radius: 5px;
  background-color: rgba(0, 255, 0, 0.1);
}

.mega .clic_technique_combat {
  font-weight: bold;
  /* text-shadow: 0 0 10px #e17810, 0 0 20px #e17810, 0 0 42px #e17810, 0 0 82px #e17810,0 0 92px #e17810; */
  border-width: 1px;
  color: #000000;
  border-radius: 5px;
  cursor: inherit;
}

.mega .clic_technique_combat:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.mega .talents_rollable:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.mega .items_rollable {
  width: 50%;
}

.mega .items_rollable:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.mega .competences_rollable:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.ml8 {
  position: absolute;
  font-weight: 900;
  font-size: 8.5em;
  color: #fff;
  width: 3em;
  height: 3em;
  opacity: 1;
  display: none;
}

.ml8 .letters-container {
  position: absolute;
  left: 0;
  right: 0;
  margin: auto;
  top: 0;
  bottom: 0;
  height: 1em;
}

.ml8 .letters {
  position: relative;
  /*zindex dorigine =2*/
  z-index: 2;
  display: inline-block;
  line-height: 0.7em;
  right: -0.12em;
  top: -0.2em;
}

.ml8 .bang {
  font-size: 1.4em;
  top: auto;
  left: -0.06em;
}

.ml8 .circle {
  position: absolute;
  left: 0;
  right: 0;
  margin: auto;
  top: 0;
  bottom: 0;
  /* background: url(../images/triangle.png) center no-repeat; */
}

.ml8 .circle-white {
  width: 3em;
  height: 3em;
  border: 2px dashed white;
  border-radius: 2em;
}

.ml8 .circle-dark {
  width: 2.2em;
  height: 2.2em;
  background-color: #ffbb00;
  border-radius: 3em;
  /*zindex dorigine =1*/
  z-index: 1;
  background: url(../images/triangle.png) center no-repeat;
}

.ml8 .circle-dark-dashed {
  border-radius: 2.4em;
  background-color: transparent;
  border: 2px dashed #4f7b86;
  width: 2.3em;
  height: 2.3em;
}

.ml9 {
  position: absolute;
  font-weight: 900;
  font-size: 8.5em;
  color: #fff;
  width: 3em;
  height: 3em;
  opacity: 1;
  display: none;
}

.ml9 .letters-container {
  position: absolute;
  left: -0.6em;
  right: 0;
  margin: auto;
  top: 0;
  bottom: 0;
  height: 1em;
}

.ml9 .letters {
  position: relative;
  /*zindex dorigine =2*/
  z-index: 2;
  display: inline-block;
  line-height: 0.7em;
  right: -0.12em;
  top: -0.2em;
}

.ml9 .bang {
  font-size: 1.4em;
  top: auto;
  left: -0.06em;
}

.ml9 .circle {
  position: absolute;
  left: 0;
  right: 0;
  margin: auto;
  top: 0;
  bottom: 0;
  /* background: url(../images/triangle.png) center no-repeat; */
}

.ml9 .circle-white {
  width: 3em;
  height: 3em;
  border: 2px dashed white;
  border-radius: 2em;
}

.ml9 .circle-dark {
  width: 2.2em;
  height: 2.2em;
  background-color: #ffbb00;
  border-radius: 3em;
  /*zindex dorigine =1*/
  z-index: 1;
  background: url(../images/triangle.png) center no-repeat;
}

.ml9 .circle-dark-dashed {
  border-radius: 2.4em;
  background-color: transparent;
  border: 2px dashed #4f7b86;
  width: 2.3em;
  height: 2.3em;
}

.mega .icon_info {
  border: none;
  border-radius: 20px;
  background-color: var(--accent-color);
  cursor: inherit;
  width: 10px;
  height: 10px;
  transition: transform 0.1s;
}

.mega .icon_info:hover {
  -ms-transform: scale(2); /* IE 9 */
  -webkit-transform: scale(2); /* Safari 3-8 */
  transform: scale(2);
}

.mega .icon_mj {
  border: none;
  border-radius: 20px;
  background-color: var(--accent-color);
  cursor: inherit;
  width: 32px;
  height: 32px;
  transition: transform 0.1s;
}

.mega .icon_letale {
  border: none;
  border-radius: 20px;
  background-color: var(--opacity-color);
  cursor: inherit;
  width: 16px;
  height: 16px;
  transition: transform 0.1s;
}

.mega .icon_letale:hover {
  -ms-transform: scale(2); /* IE 9 */
  -webkit-transform: scale(2); /* Safari 3-8 */
  transform: scale(2);
  background-color: var(--accent-color);
}

.mega .icon_letale_active {
  border: solid 1px maroon;
  border-radius: 20px;
  background-color: var(--accent-color);
  cursor: inherit;
  width: 16px;
  height: 16px;
  transition: transform 0.1s;
  box-shadow: 0 0 5px black;
}

.mega .icon_typedegats {
  border: none;
  border-radius: 20px;
  background-color: var(--opacity-color);
  cursor: inherit;
  width: 32px;
  height: 32px;
  transition: transform 0.1s;
}

.mega .icon_typedegats:hover {
  -ms-transform: scale(1.3); /* IE 9 */
  -webkit-transform: scale(1.3); /* Safari 3-8 */
  transform: scale(1.3);
  background-color: var(--accent-color);
  position: relative;
  z-index: 1000;
}

.mega .icon_typedegats_active {
  border: solid 1px maroon;
  border-radius: 20px;
  background-color: var(--accent-color);
  cursor: inherit;
  width: 32px;
  height: 32px;
  transition: transform 0.1s;
  box-shadow: 0 0 5px black;
}

/* Style pour le conteneur damage-type-item quand il est actif */
.mega .damage-type-item.active {
  background: var(--accent-color);
  border-radius: 8px;
  border-color: var(--accent-color);
  transition: background-color 0.2s ease;
}

/* Styles pour centrer les icônes de type de dégâts */
.mega table.tablemj td {
  overflow: visible;
  text-align: center;
}

.mega table.tablemj td .type_degat {
  position: relative;
  display: inline-block;
}

.mega .traits_rollable:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.mega .combat_rollable:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.mega .pouvoir_rollable:hover {
  cursor: inherit;
  box-shadow: 0 0 10px var(--opacity-color);
  background: linear-gradient(
    90deg,
    var(--accent-color) 0%,
    var(--opacity-color) 100%
  );
  border-radius: 20px;
  font-weight: bold;
  color: white;
}

.mega .ardence input {
  width: 20px;
  border-radius: 100px;
  height: 25px;
  text-align: center;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
}

.mega .bandeau_attributs {
  display: flex;
  align-items: flex-start;
  justify-content: space-around;
  flex-wrap: wrap;
  width: 100%;
  text-align: center;
  background-color: rgba(0, 0, 0, 0);
  margin: auto;
  overflow: visible;
}

/* Permettre le débordement des tooltips dans les conteneurs du tableau traits */
.mega .bandeau_attributs > div {
  overflow: visible;
}

/* Assurer que les tooltips des traits peuvent déborder correctement */
.mega table.traits .tooltip_r .tooltiptext_r {
  overflow: visible;
  white-space: normal;
  word-wrap: break-word;
  max-width: 250px;
  min-width: 320px;
  width: auto;
}

/* Permettre le débordement des tooltips dans l'onglet attributes */
.mega .tab.attributes {
  overflow: visible;
}

/* S'assurer que tous les conteneurs de tabs permettent le débordement des tooltips */
.mega .tab {
  overflow: visible;
}

/* Ensure tab visibility rules are maintained */
.mega .tab:not(.active) {
  display: none;
}

.mega .tab.active {
  display: block;
}

/* Assurer que les tooltips des SPÉ peuvent déborder correctement */
.mega table.spes2 {
  overflow: visible;
}

.mega table.spes2 td,
.mega table.spes2 th {
  overflow: visible;
}

.mega table.spes2 .tooltip_spe .tooltiptext_r {
  min-width: 320px;
  max-width: 250px;
  width: auto;
  white-space: normal;
  word-wrap: break-word;
  padding: 8px 12px;
}

/* Assurer que les tooltips des talents peuvent déborder correctement */
.mega table.talents {
  overflow: visible;
}

.mega table.talents td,
.mega table.talents th {
  overflow: visible;
}

.mega table.talents .tooltip .tooltiptext {
  min-width: 320px;
  max-width: 300px;
  width: auto;
  white-space: normal;
  word-wrap: break-word;
  padding: 8px 12px;
}

.mega .bandeau_combat {
  display: flex;
  align-items: flex-start;
  justify-content: space-around;
  flex-wrap: wrap;
  /* width: 100%; */
  text-align: center;
  border-collapse: collapse;
  background-color: rgba(0, 0, 0, 0);
  padding: 1px 1px;
  margin: auto;
}

.mega table.bandeau_attributs td,
table.bandeau_attributs th {
  padding: 5px 20px;
}

.mega input.equipement {
  width: 140px;
  height: 20px;
  text-align: left;
  border: none;
}

.mega input.equipement_equip {
  width: 140px;
  height: 20px;
  border: none;
  font-weight: bold;
}

.mega input.equipement_equip:hover {
  box-shadow: inset 0 0 10px var(--accent-color);
  text-shadow: 4px 4px 10px red;
  /* filter: dropshadow(color=red, offx=2, offy=2); */
  cursor: inherit;
}

.mega .silouhette_equip {
  width: 20px;
  height: 20px;
  text-align: center;
  border-radius: 100px;
  font-weight: bold;
  font-size: 10px;
  background-color: #00ff00;
  border: none;
}

.mega .silouhette_unequip {
  width: 20px;
  height: 20px;
  text-align: center;
  border-radius: 100px;
  font-weight: bold;
  font-size: 10px;
  background-color: #eb181869;
  border: none;
}

.mega .silouhette {
  width: 20px;
  height: 20px;
  text-align: center;
  border-radius: 100px;
  font-weight: bold;
  font-size: 10px;
}

.mega .silouhette_body_container {
  background: no-repeat center 0 url("../images/silouhette2.png");
  background-color: #00000000;
  background-size: 75%;
  border: none;
  width: 500px;
  height: 360px;
  position: relative;
}

.mega .silouhette_body_div {
  position: absolute;
  width: 20px; /* Ajustez selon vos besoins */
  height: 20px; /* Ajustez selon vos besoins */
  background-color: none;
  border: none; /* Bordure pour mieux voir les divs */
}

.tete {
  top: 32px; /* Ajustez selon la position de la tête */
  left: 241px; /* Ajustez selon la position de la tête */
}

.poitrine {
  top: 90px; /* Ajustez selon la position de la tête */
  left: 241px; /* Ajustez selon la position de la tête */
}

.ventre {
  top: 140px;
  left: 241px;
}

.bras_g {
  top: 132px;
  left: 190px;
}

.bras_d {
  top: 132px;
  left: 291px;
}

.main_g {
  top: 178px;
  left: 174px;
}

.main_d {
  top: 178px;
  left: 308px;
}

.jambe_g {
  top: 242px;
  left: 214px;
}

.jambe_d {
  top: 242px;
  left: 268px;
}

.pied_g {
  top: 326px;
  left: 205px;
}

.pied_d {
  top: 326px;
  left: 277px;
}

.pastille {
  position: absolute;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: inherit;
}
.red {
  background-color: rgba(255, 0, 0, 0.664);
}
.green {
  background-color: green;
  -webkit-box-shadow: 10px 10px 120px 20px rgba(4, 186, 31, 0.68);
  -moz-box-shadow: 10px 10px 120px 20px rgba(4, 186, 31, 0.68);
  box-shadow: 10px 10px 120px 20px rgba(4, 186, 31, 0.68);
}

.mega table.silouhette_body td {
  border: solid 1px black;
  width: 5%;
}
.mega table.silouhette_body tr {
  height: 5%;
}

.mega .type_item {
  width: 100%;
  height: 38px;
  padding-top: 0px;
  padding-bottom: 0px;
  padding-left: 20px;
  border: 0px solid #a0a0a0;
  text-align: left;
  /* background: rgba(248, 231, 28, 0.3); */
  background-repeat: no-repeat;
  background-position: center;
  background-image: url("../images/bandeau_item.png");
  font-weight: bold;
  font-family: "Mega", sans-serif;
  font-size: 14px;
}

.mega table.combat {
  text-align: center;
  border-collapse: collapse;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  /* background: rgb(83,83,201); */
  /* background: linear-gradient(90deg, rgba(83,83,201,1) 0%, rgba(251,74,95,0.3) 0%, rgba(255,242,140,0.1) 100%); */
}

input[type="radio"] {
  border: 1px solid rgba(45, 67, 64, 0.3);
  border-style: dotted;
  padding: 0.4em;
  appearance: none;
  -webkit-appearance: none;
  display: block;
  margin: 0 auto;
}

input[type="radio"]:checked {
  background: url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkEWdZDwABFgDQBfvj/wAAAABJRU5ErkJggg==)
    no-repeat center center;
  background-size: 10px 10px;
}

input[type="radio"]:focus {
  outline-color: transparent;
}

.mega .item-view:hover {
  /* cursor:inherit;*/
  cursor: url("../images/eye.ico"), default;
}

.mega .item-name:hover {
  cursor: inherit;
}

.mega input[type="checkbox"] + label {
  display: inline-block;
  background: url("../images/checkbox_no.png") no-repeat;
  height: 16px;
  width: 16px;
}

.mega input[type="checkbox"]:checked + label {
  background: url("../images/checkbox_yes.png") no-repeat;
  display: inline-block;
  height: 16px;
  width: 16px;
}

.mega table.item_list {
  text-align: center;
  border-collapse: separate;
  border-spacing: 0;
  border: solid 1px var(--accent-color);
  background-position: center;
  font-size: 13px;
  font-weight: bold;
  /* box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7); */
  background: var(--opacity-color);
  width: 98%;
  padding: 5px;
}

.mega table.protections {
  text-align: center;
  border-collapse: collapse;
  /* box-shadow:
    0 0 0 2px var(--table-protections),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background: var(--table-protections);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
}

.mega table.protections:hover{
  box-shadow:
    0 0 0 2px var(--table-protections),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.protections th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.protections th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.protections tbody td {
  font-size: 12px;
  padding: 4px;
}
.mega table.protections tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}

.mega table.protections thead {
  font-size: 12px;
}

.mega table.protections thead th {
  font-size: 12px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}
.mega table.protections thead th:first-child {
  border-left: none;
}

.mega table.protections tfoot {
  font-size: 11px;
  background-color: rgba(255, 255, 255, 0.1);
}

.mega table.protections tfoot td {
  font-size: 11px;
  background-color: rgba(255, 255, 255, 0.1);
}
.mega table.protections tfoot .links {
  text-align: right;
}
.mega table.protections tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.mega table.equipement {
  width: 500px;
  /* height: 500px; */
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--table-combat),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--table-combat);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
}
.mega table.equipement:hover {
  box-shadow:
    0 0 0 2px var(--table-combat),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}


.mega table.equipement th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.equipement th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.equipement tbody td {
  font-size: 12px;
  padding: 4px;
  /* border:solid 1px var(--accent-color); */
}
.mega table.equipement tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}

.mega table.equipement thead {
  font-size: 12px;
}

.mega table.equipement thead th {
  font-size: 12px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}
.mega table.equipement thead th:first-child {
  border-left: none;
}

.mega table.equipement tfoot {
  font-size: 11px;
  background-color: rgba(255, 255, 255, 0.1);
  border: none;
}

.mega table.equipement tfoot td {
  font-size: 11px;
  background-color: rgba(255, 255, 255, 0.1);
}
.mega table.equipement tfoot .links {
  text-align: right;
}
.mega table.equipement tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.tftable {
  font-size: 12px;
  color: #333333;
  width: 80%;
  border-width: 0px;
  border-color: var(--accent-color);
  border-collapse: separate;
  background-color: var(--opacity-color);
}
.tftable th {
  font-size: 12px;
  background-color: var(--accent-color);
  border-width: 1px;
  padding: 8px;
  border-style: solid;
  border-color: var(--accent-color);
  text-align: left;
}
.tftable tr {
  background-color: var(--accent-color);
}
.tftable td {
  font-size: 12px;
  border-width: 1px;
  padding: 8px;
  border-style: solid;
  border-color: var(--accent-color);
  text-align: center;
}

.mega table.tablemj {
  /* text-align: left; */
  border: none;
  width: 99%;
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--opacity-clear-color);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
  /* background: linear-gradient(90deg, rgba(83,83,201,1) 0%, rgba(222,215,59,0.14609593837535018) 0%, rgba(255,255,215,0.10127801120448177) 100%); */
}

.mega table.tablemj:hover{
  box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.tablemj th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.tablemj th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.tablemj tfoot {
  background: var(--accent-color);
  font-size: 12px;
  text-align: center;
}

.mega table.tablemj thead th {
  font-size: 13px;
  font-weight: lighter;
  color: #ffffffda;
  text-align: center;
  text-shadow: none;
}

.mega table.tablemj2 {
  /* border-collapse: collapse; */
  /* background: none; */
  border: none;
  width: 400px;
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--opacity-clear-color);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
}

.mega table.tablemj2:hover{
  box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}


.mega table.tablemj2 th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.tablemj2 th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.tablemj2 thead th {
  font-size: 12px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  /* border-left: 2px solid #d0e4f5; */
}

.mega table.tablemj2 td {
  font-size: 12px;
  text-align: left;
  color: #000;
}

.mega table.tablemj2 thead td {
  text-align: center;
  font-size: 12px;
  color: white;
}

.mega table.cartouche_item {
  /* border-collapse: collapse; */
  /* background: none; */
  border: none;
  width: 400px;
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--opacity-clear-color);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
}

/* Nouvelle entête moderne pour les armes courtes */
.mega .weapon-header-modern {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 8px 12px;
  /* background: linear-gradient(135deg, rgba(0,0,0,0.05), rgba(255,255,255,0.1)); */
  border-radius: var(--corner-radius);
  /* box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px; */
  border: 1px solid rgba(255,255,255,0.2);
}

.mega .weapon-name-container {
  text-align: center;
  margin-bottom: 12px;
  flex-shrink: 0;
}

.mega .weapon-name {
  margin: 0;
  padding: 0;
  line-height: 1;
}

.mega .weapon-name input {
  width: 100%;
  font-size: 22px;
  font-weight: bold;
  font-family: "Mega", serif;
  text-align: center;
  border: none;
  background: transparent;
  color: var(--accent-color, #2c5aa0);
  text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  margin: 0;
  padding: 4px 0;
  border-bottom: 2px solid var(--accent-color, #2c5aa0);
  min-height: 30px;
}

.mega .weapon-name input:focus {
  outline: none;
  border-bottom-color: var(--opacity-color, #4a90e2);
  background: rgba(255,255,255,0.1);
}

.mega .weapon-type {
  font-size: 11px;
  color: var(--text-light, #666);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-top: 3px;
  font-weight: 600;
}

.mega .weapon-stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 8px;
  align-items: end;
  flex: 1;
}

.mega .stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  min-height: 50px;
  justify-content: space-between;
}

.mega .stat-label {
  font-size: 10px;
  font-weight: 700;
  color: var(--text-dark, #333);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
  text-shadow: 0 1px 1px rgba(255,255,255,0.5);
  height: 12px;
  display: flex;
  align-items: center;
}

.mega .stat-value {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  width: 100%;
  height: 28px;
  align-items: flex-end;
}

.mega .stat-input {
  width: 45px;
  font-size: 13px;
  font-weight: 600;
  text-align: center;
  border: 1px solid rgba(0,0,0,0.3);
  border-radius: 3px;
  padding: 3px 2px;
  background: rgba(255,255,255,0.9);
  color: #333;
  min-height: 20px;
}

.mega .stat-input-sphere {
  width: 260  px;
  font-size: 13px;
  font-weight: 600;
  text-align: center;
  border: 1px solid rgba(0,0,0,0.3);
  border-radius: 3px;
  padding: 3px 2px;
  background: rgba(255,255,255,0.9);
  color: #333;
  min-height: 20px;
}

.mega .stat-input:focus {
  outline: none;
  border-color: var(--accent-color, #2c5aa0);
  box-shadow: 0 0 4px rgba(44, 90, 160, 0.4);
  background: white;
}

.mega .stat-input:disabled {
  background: rgba(200,200,200,0.6);
  color: #999;
  cursor: not-allowed;
}

.mega .stat-unit {
  font-size: 11px;
  color: var(--text-dark, #333);
  font-weight: 600;
  text-shadow: 0 1px 1px rgba(255,255,255,0.5);
}

.mega .stat-unit-select {
  font-size: 10px;
  color: var(--text-dark, #333);
  font-weight: 600;
  text-shadow: 0 1px 1px rgba(255,255,255,0.5);
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 2px;
  background: rgba(255,255,255,0.9);
  padding: 1px 2px;
  margin-left: 2px;
  cursor: pointer;
  min-width: 30px;
}

.mega .stat-unit-select:focus {
  outline: none;
  border-color: var(--accent-color, #2c5aa0);
  box-shadow: 0 0 2px rgba(44, 90, 160, 0.3);
}

.mega .stat-unit-select:hover {
  background: white;
  border-color: var(--accent-color, #2c5aa0);
}

/* Grille spécifique pour les pouvoirs (3 colonnes centrées) */
.mega .weapon-stats-grid-pouvoir {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  align-items: end;
  flex: 1;
  justify-content: center;
  max-width: 600px;
  margin: 0 auto;
}

/* Réduction de la hauteur des éditeurs de description des pouvoirs */
.mega .editor-pouv-compact .editor {
  height: 140px !important;
  min-height: 140px !important;
}

.mega .editor-pouv-long .editor {
  height: 500px !important;
  min-height: 500px !important;
}

.mega .editor-pouv-compact .editor .editor-content {
  height: 160px !important;
  max-height: 160px !important;
  overflow-y: auto;
}

.mega table.cartouche_item:hover{
  box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.cartouche_item th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.cartouche_item th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.cartouche_item thead th {
  font-size: 13px;
  font-weight: lighter;
  color: #ffffffda;
  text-align: center;
  text-shadow: none;
}

.mega table.cartouche_item td {
  font-size: 13px;
  text-align: left;
  color: #000;
}

.mega table.cartouche_item thead td {
  text-align: center;
  font-size: 12px;
  color: white;
}

.mega table.tablemj3 {
  border-collapse: collapse;
  background: rgba(255, 165, 0, 0.4);
  border: none;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
}

.mega table.tablemj3 tbody td {
  font-size: 12px;
  text-align: center;
}

.mega table.tablemj3 thead {
  font-size: 12px;
}

table.greyGridTable_head {
  width: 100%;
  text-align: center;
  border-spacing: 8px;
  border-collapse: separate;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  /* box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);  */
}

.fond {
  background: url(../images/triangle.png) center no-repeat;
  background-size: cover;
  width: 90px;
  height: 90px;
}

.img {
  width: 80px;
  height: 80px;

  border-top-left-radius: 80px;
  border-top-right-radius: 80px;
  border-bottom-left-radius: 80px;
  border-bottom-right-radius: 80px;
}

table.greyGridTable_head tbody td {
  font-size: 12px;
  background: #ffffff;
  /* box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);  */
}

table.greyGridTable_head thead {
  border-bottom: 4px solid #333333;
}
table.greyGridTable_head thead th {
  font-size: 15px;
  font-weight: bold;
  text-align: center;
  /* border-left: 2px solid #333333; */
}

table.greyGridTable {
  width: 100%;
  text-align: center;
  border-spacing: 8px;
  border-collapse: separate;
  background-color: rgba(0, 0, 0, 0);
  /* box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);  */
}

table.greyGridTable tbody td {
  font-size: 12px;
  background: #ffffff;
}

table.greyGridTable thead {
  border-bottom: 4px solid #333333;
}
table.greyGridTable thead th {
  font-size: 15px;
  font-weight: bold;
  text-align: center;
  /* border-left: 2px solid #333333; */
}

.mega table.table_objets tfoot td {
  font-size: 14px;
}
.mega table.table_objets tfoot .links {
  text-align: right;
}
.mega table.table_objets tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.mega table.table_objets_armes {
  border-collapse: collapse;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  background: rgb(138, 138, 173);
  background: linear-gradient(
    90deg,
    rgba(83, 83, 201, 1) 0%,
    rgba(222, 215, 59, 0.14609593837535018) 0%,
    rgba(255, 255, 215, 0.10127801120448177) 100%
  );
  width: 60%;
}

.mega table.table_objets_armes td,
table.table_objets_armes th {
  background-color: rgba(161, 40, 40, 0.2);
}
.mega table.table_objets_armes tbody td {
  font-size: 12px;
}
.mega table.table_objets_armes tr:nth-child(even) {
  background-color: rgba(161, 40, 40, 0.2);
}

.mega table.table_objets_armes thead {
  font-size: 12px;
  text-align: center;
}

.mega table.table_objets_armes thead th {
  font-size: 15px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}

.mega table.table_objets_armes thead th:first-child {
  text-align: left;
  border-left: none;
}

.mega table.table_objets_armes tfoot td {
  font-size: 14px;
}
.mega table.table_objets_armes tfoot .links {
  text-align: right;
}
.mega table.table_objets_armes tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.mega table.table_objets_protections {
  border-collapse: collapse;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  background: rgb(138, 138, 173);
  background: linear-gradient(
    90deg,
    rgba(83, 83, 201, 1) 0%,
    rgba(222, 215, 59, 0.14609593837535018) 0%,
    rgba(255, 255, 215, 0.10127801120448177) 100%
  );
  width: 60%;
}

.mega table.table_objets_protections td,
table.table_objets_protections th {
  background-color: rgba(20, 96, 146, 0.2);
}
.mega table.table_objets_protections tbody td {
  font-size: 12px;
}
.mega table.table_objets_protections tr:nth-child(even) {
  background-color: rgba(24, 168, 173, 0.2);
}

.mega table.table_objets_protections thead {
  font-size: 12px;
  text-align: center;
}

.mega table.table_objets_protections thead th {
  font-size: 15px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
  background: url("../images/shield-reflect.png") no-repeat;
}

.mega table.table_objets_protections thead th:first-child {
  text-align: left;
  border-left: none;
}

.mega table.table_objets_protections tfoot td {
  font-size: 14px;
}
.mega table.table_objets_protections tfoot .links {
  text-align: right;
}
.mega table.table_objets_protections tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.mega table.effetarme {
  text-align: left;
  width: 100%;
  border-collapse: collapse;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  background: rgb(83, 83, 201);
  background: linear-gradient(
    90deg,
    rgba(83, 83, 201, 1) 0%,
    rgba(222, 215, 59, 0.14609593837535018) 0%,
    rgba(255, 255, 215, 0.10127801120448177) 100%
  );
}

.mega .pouvoir {
  height: 25px;
  text-align: left;
  /* font-weight: bold; */
  border: none;
  background-color: rgba(0, 0, 0, 0);
}

.mega table.caracs {
  width: 50%;
  text-align: left;
  border-collapse: collapse;
  background-color: rgba(135, 170, 246, 0.1);
}
.mega table.caracs td,
table.caracs th {
  padding: 5px 10px;
}
.mega table.caracs tbody td {
  /* ??? */
  font-size: 13px;
}
.mega table.caracs tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}
.mega table.caracs thead {
  background: #1c6ea4;
  background: -moz-linear-gradient(top, #5592bb 0%, #327cad 66%, #1c6ea4 100%);
  background: -webkit-linear-gradient(
    top,
    #5592bb 0%,
    #327cad 66%,
    #1c6ea4 100%
  );
  background: linear-gradient(to bottom, #5592bb 0%, #327cad 66%, #1c6ea4 100%);
  border-bottom: 2px solid #444444;
  /*???*/
  font-size: 20px;
}
.mega table.caracs thead th {
  /* ??? */
  font-size: 15px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}
.mega table.caracs thead th:first-child {
  border-left: none;
}

.mega table.caracs tfoot td {
  font-size: 14px;
}
.mega table.caracs tfoot .links {
  text-align: right;
}
.mega table.caracs tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.mega table.objets_items {
  /* width: 200px;*/
  width: 100%;
  text-align: center;
  /* box-shadow:
    0 0 0 2px var(--table-talents),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
    background-color: var(--table-talents);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  /* margin-left:4px;
  margin-top: 7x;*/
  margin-bottom: 10px;
}

.mega table.objets_items:hover {
  box-shadow:
    0 0 0 2px var(--table-talents),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}


.mega table.objets_items th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.objets_items th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.objets_items td,
table.objets_items th {
  padding: 2px 2px 0px 2px;
  font-size: 12px;
}

.mega table.armes_items {
  /* width: 200px;*/
  width: 100%;
  text-align: center;
  /* box-shadow:
    0 0 0 2px var(--table-combat),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--table-combat);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  /* margin-left:4px;
  margin-top: 7x;*/
  margin-bottom: 10px;
}

.mega table.armes_items:hover {
  box-shadow:
    0 0 0 2px var(--table-combat),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.armes_items th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.armes_items th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.protections_items {
  /* width: 200px;*/
  width: 100%;
  text-align: center;
  /* box-shadow:
    0 0 0 2px var(--table-protections),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--table-protections);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  /* margin-left:4px;
  margin-top: 7x;*/
  margin-bottom: 10px;
}

.mega table.protections_items:hover {
  box-shadow:
    0 0 0 2px var(--table-protections),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.protections_items th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.protections_items th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.armes_items td,
table.armes_items th {
  padding: 2px 2px 0px 2px;
  font-size: 12px;
}

.mega table.pouvoirs_items {
  /* width: 200px;*/
  width: 100%;
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--table-pouvoirs),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--table-pouvoirs);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  /* margin-left:4px;
  margin-top: 7x;*/
  margin-bottom: 10px;
}


.mega table.pouvoirs_items:hover {
  box-shadow:
    0 0 0 2px var(--table-pouvoirs),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.pouvoirs_items th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.pouvoirs_items th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.pouvoirs_items td,
table.pouvoirs_items th {
  padding: 2px 2px 0px 2px;
  font-size: 12px;
}

.mega table.traits {
  /* width: 200px;*/
  width: 100%;
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--table-traits),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--table-traits);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
  overflow: visible;
}

.mega table.traits:hover {
  box-shadow:
    0 0 0 2px var(--table-traits),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.traits th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.traits th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega .traits input {
  width: 25px;
  border-radius: 100px;
  height: 25px;
  text-align: center;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
}

.mega table.traits td,
table.traits th {
  padding: 2px 2px 0px 2px;
  font-size: 12px;
  overflow: visible;
}

.mega table.traits tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
  border-color: rgba(0, 0, 0, 0.1);
}

.mega table.traits tfoot {
  color: black;
  background-color: var(--opacity-clear-color);
  text-align: center;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  border: none;
}

.mega table.pouvoir {
  width: 100%;
  text-align: right;
  border-collapse: collapse;
  /* box-shadow:
    0 0 0 2px var(--table-pouvoirs),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  font-weight: bold;
  background: var(--table-pouvoirs);
  border-radius: var(--corner-radius);
  border-collapse: collapse;
  border-width: 0;
  margin: 4px;
  margin-bottom: 10px;
}

.mega table.pouvoir:hover{
  box-shadow:
    0 0 0 2px var(--table-pouvoirs),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.pouvoir th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.pouvoir th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.pouvoir td,
table.pouvoir th {
  padding: 2px 2px;
  font-size: 12px;
}

.mega table.pouvoir tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}

.mega table.item_pouvoir {
  /* border-collapse: collapse; */
  /* background: none; */
  border: none;
  /* width: 400px; */
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--opacity-clear-color);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
}

.mega table.item_pouvoir:hover{
  box-shadow:
    0 0 0 2px var(--opacity-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.item_pouvoir th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.item_pouvoir th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.item_pouvoir thead th {
  font-size: 13px;
  font-weight: lighter;
  color: #ffffffda;
  text-align: center;
  text-shadow: none;
}

.mega table.item_pouvoir td {
  font-size: 13px;
  text-align: left;
  color: #000;
}

.mega .item_pouvoir input {
  width: 90%;
  border-radius: 100px;
  height: 25px;
  text-align: left;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
  font-size: 12px;
}

.mega table.cartouche_item thead td {
  text-align: center;
  font-size: 12px;
  color: white;
}

.mega .traits input {
  width: 25px;
  border-radius: 100px;
  height: 25px;
  text-align: center;
  border: none;
  background-color: rgba(0, 0, 0, 0);
  font-weight: bold;
}

.mega tableaulong {
  margin-bottom: 30vh;
  width: 50vw;
  margin: auto;
}

.mega tableaulong tbody {
  position: absolute;
  max-height: 20vh;
  overflow-y: scroll;
}
.mega tableaulong tfoot {
  position: absolute;
  margin-top: 20vh;
  z-index: -1;
}
.mega tableaulong tbody,
.mega tableaulong tfoot {
  width: 50vw;
}

.mega tableaulong td,
.mega tableaulong th {
  width: 25vw;
  text-align: center;
}
.mega tableaulong tbody,
.mega tableaulong tfoot {
  border-top: solid 1px;
}

.mega table.spes2 {
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--table-spes),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background: var(--table-spes);
  border-radius: var(--corner-radius);
  border-collapse: collapse;
  border-width: 0;
  margin: 4px;
  margin-bottom: 10px;
}

.mega table.spes2 td,
table.spes2 th {
  padding: 2px 2px;
  font-size: 12px;
}
.mega table.spes2 th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.spes2 th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.spes2 tr:nth-child(even) {
  background-color: rgba(114, 26, 67, 0.1);
}

.mega table.spes2 thead th {
  font-size: 12px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
}
.mega table.spes2 thead th:first-child {
  border-left: none;
}

.mega table.spes2 tbody {
  border-top: none;
}

.mega table.spes2 input {
  font-size: 14px;
}

.mega table.cumul {
  width: 100%;
  text-align: left;
  /* box-shadow:
    0 0 0 2px rgba(201, 164, 83, 0.4),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: rgba(201, 164, 83, 0.4);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;

  /* background: linear-gradient(90deg, rgba(83,83,201,1) 0%, rgba(250,172,14,0.14609593837535018) 0%, rgba(255,224,131,0.10127801120448177) 100%); */
}
.mega table.cumul:hover {
box-shadow:
    0 0 0 2px rgba(201, 164, 83, 0.4),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}


.mega table.cumul th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.cumul th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.cumul td,
table.cumul th {
  padding: 2px 2px;
  font-size: 12px;
}

.mega table.cumul tr:nth-child(even) {
  background-color: rgba(114, 26, 67, 0.1);
}

.mega table.cumul thead th {
  font-size: 12px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}
.mega table.cumul thead th:first-child {
  border-left: none;
}

.mega table.cumul input {
  font-size: 14px;
}

.mega table.combat {
  text-align: center;
  border-collapse: collapse;
}
.mega table.combat td,
table.combat th {
  /* border: 1px solid #AAAAAA;  */
  font-size: 12px;
}

.mega table.combat thead th {
  color: #ffffff;
  text-align: center;
}
.mega table.combat thead th:first-child {
  border-left: none;
}

.mega table.caracs tfoot td {
  font-size: 14px;
}
.mega table.caracs tfoot .links {
  text-align: right;
}
.mega table.caracs tfoot .links a {
  display: inline-block;
  background: #1c6ea4;
  color: #ffffff;
  padding: 2px 8px;
  border-radius: 5px;
}

.mega table.entete {
  width: 100%;
  border-collapse: collapse;
  border: none;
}

.mega table.pnj_entete {
  /* border: 1px solid #1C6EA4; */
  /* background-color: rgba(0, 0, 0, 0);  */
  width: 100%;
  border-collapse: collapse;
  border: none;
}

.mega table.entete td,
table.entete th {
  padding: 4px 0px;
}

.mega table.entete tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0);
}

.mega table.entete thead th {
  /* ??? */
  font-size: 15px;
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border: none;
}
.mega table.entete thead th:first-child {
  border-left: none;
}

.mega table.entete tfoot td {
  /* ??? */
  font-size: 14px;
}
.mega table.entete tfoot .links {
  text-align: right;
}
.mega table.entete tfoot .links a {
  display: inline-block;
  color: #ffffff;
  padding: 2px 0px;
  border-radius: 5px;
}

.mega .entete select {
  width: 40%;
  min-width: 15ch;
  max-width: 30ch;
  border: 1px solid var(--select-border);
  border-radius: 0.25em;
  padding: 0.25em 0.5em;
  font-size: 1rem;
  cursor: inherit;
  line-height: 1.1;
  background-color: transparent;
  /* background-image: transparent; */
}

.mega table.itemsheet {
  /* border: 1px solid #1C6EA4; */
  /* text-align: center; */
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  font-size: 13px;
  background: linear-gradient(
    90deg,
    rgba(83, 83, 201, 1) 0%,
    rgba(59, 82, 222, 0.14609593837535018) 0%,
    rgba(222, 241, 255, 0.1) 100%
  );
  /* background: linear-gradient(90deg, rgba(255,83,201,1) 0%, rgba(255,149,251,0.3) 0%, rgba(140,204,255,0.1) 100%); */
}

.mega table.itemsheet thead th {
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}

.mega table.talents {
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--table-talents),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  background-color: var(--table-talents);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-right: 6px;
  margin-bottom: 10px;
  width: 500px;
}

.mega table.talents:hover {
  box-shadow:
    0 0 0 2px var(--table-talents),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.talents th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.talents th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.talents td,
table.talents th {
  padding: 2px 2px;
  /* reduction */
  font-size: 12px;
}

.mega table.talents tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}

.mega table.talents thead th {
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}
.mega table.talents thead th:first-child {
  border-left: none;
}

.mega table.talents_annexes {
  /* width: 335px; */
  width: 100%;
  text-align: left;
  /* box-shadow:
    0 0 0 2px var(--table-traits),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7); */
  box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
  /* box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7); */
  /* box-shadow: 0 0 0 4px var(--table-traits); */
  /* background: rgb(70, 130, 180, 0.9); Background et transparence du tableau Traits */
  /* background: rgb(176, 196, 222,0.4); */
  background-color: var(--opacity-clear-color);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
}

.mega table.talents_annexes:hover {
  box-shadow:
    0 0 0 2px var(--table-traits),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
}

.mega table.talents_annexes th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.talents_annexes th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.talents_annexes td,
table.talents_annexes th {
  padding: 2px 2px;
  /* reduction */
  font-size: 12px;
  text-align: left;
}

.mega table.talents_annexes tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}

.mega table.talents_annexes thead {
  text-align: center;
}

.mega table.talents_annexes thead th {
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}
.mega table.talents_annexes thead th:first-child {
  border-left: none;
}

.mega table.notes_pnj {
  width: 98%;
  text-align: left;
  box-shadow:
    0 0 0 2px var(--opacity-clear-color),
    -1px 2px 10px 1px rgba(0, 0, 0, 0.7);
  /* box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7); */
  /* box-shadow: 0 0 0 4px var(--table-traits); */
  /* background: rgb(70, 130, 180, 0.9); Background et transparence du tableau Traits */
  /* background: rgb(176, 196, 222,0.4); */
  background-color: var(--opacity-clear-color);
  border-radius: var(--corner-radius);
  border-collapse: collapse !important;
  border-width: 0;
  margin-left: 4px;
  margin-top: 7x;
  margin-bottom: 10px;
}

.mega table.notes_pnj th:nth-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.notes_pnj th:nth-last-child(1) {
  border-radius: var(--corner-radius) var(--corner-radius) 0px 0px;
}

.mega table.notes_pnj td,
table.notes_pnj th {
  padding: 2px 2px;
  /* reduction */
  font-size: 12px;
}

.mega table.notes_pnj tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.1);
}

.mega table.notes_pnj thead th {
  font-weight: bold;
  color: #ffffff;
  text-align: center;
  border-left: 2px solid #d0e4f5;
}
.mega table.notes_pnj thead th:first-child {
  border-left: none;
}

.card-result {
  text-align: center;
  font-weight: bold;
  font-family: "Mega", sans-serif;
  font-size: 16pt;
  border: 1px solid black;
}

.card-header {
  text-align: center;
  font-weight: bold;
  text-transform: uppercase;
  color: black;
  text-shadow: var(--accent-color) 2px 0 10px;
  font-size: 14pt;
  height: 30pt;
  /* background-color: black; */
  background-image: url("../images/bandeau.png");
  background-repeat: no-repeat;
  font-family: "Mega", sans-serif;
}

.card-header-pouvoir {
  font-size: 14pt;
  height: 30pt;
  color: #fff;
  text-align: center;
  font-weight: bold;
  text-transform: uppercase;
  -webkit-animation: glow 1s ease-in-out infinite alternate;
  -moz-animation: glow 1s ease-in-out infinite alternate;
  animation: glow 1s ease-in-out infinite alternate;
  background-image: url("../images/bandeau.png");
  font-family: "Mega", sans-serif;
}

@-webkit-keyframes glow {
  from {
    text-shadow:
      0 0 10px #fff,
      0 0 20px #fff,
      0 0 30px #00c32e,
      0 0 40px #00c32e,
      0 0 50px #00c32e,
      0 0 60px #00c32e,
      0 0 70px #00c32e;
  }
  to {
    text-shadow:
      0 0 20px #fff,
      0 0 30px #4ffd78,
      0 0 40px #4ffd78,
      0 0 50px #4ffd78,
      0 0 60px #4ffd78,
      0 0 70px #4ffd78,
      0 0 80px #4ffd78;
  }
}

.bouton_pouvoir {
  font-size: 14px;
  max-height: 25px !important;
  max-width: 50px !important;
  /* color: green; */
  text-align: center;
  font-weight: bold;
  text-transform: uppercase;
  -webkit-animation: glow 1s ease-in-out infinite alternate;
  -moz-animation: glow 1s ease-in-out infinite alternate;
  animation: glow 1s ease-in-out infinite alternate;
  padding: 0px !important;
}

.bouton_talent {
  text-align: center;
  font-weight: bold;
  text-transform: uppercase;
  /* color: black; */
  text-shadow: #fc0 1px 0 10px;
  font-size: 14px;
  height: 25px !important;
  width: 50px !important;
  /* background-color: black; */
}

.tooltip {
  position: relative;
  display: inline-block;
  /* border-bottom: 1px dotted black; */
}

.tooltip .tooltiptext {
  visibility: hidden;
  min-width: 120px;
  max-width: 300px;
  width: auto;
  background-color: var(--accent-color);
  color: #000;
  text-align: center;
  border-radius: 6px;
  padding: 8px 12px;
  margin: auto;
  white-space: normal;
  word-wrap: break-word;

  /* Position the tooltip */
  position: absolute;
  z-index: 1;
  top: -5px;
  right: 105%;
  border: 2px solid white;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  opacity: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  transition: all 0.45s ease 0.45s;
}

.tooltip_spe {
  position: relative;
  display: inline-block;
  text-align: left;
  /* border-bottom: 1px dotted black; */
}

.tooltip_spe .tooltiptext_r {
  visibility: hidden;
  min-width: 150px;
  max-width: 350px;
  width: auto;
  background-color: var(--accent-color);
  color: #000;
  text-align: center;
  border-radius: 6px;
  padding: 8px 12px;
  white-space: normal;
  word-wrap: break-word;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
  top: -80px;
  left: 105%;
  border: 2px solid white;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
}

.tooltip_spe:hover .tooltiptext_r {
  visibility: visible;
}

.tooltip_spe:hover .tooltiptext_r {
  visibility: visible;
  transition: all 0.45s ease 0.45s;
}

.tooltip_r {
  position: relative;
  display: inline-block;
  text-align: left;
  /* border-bottom: 1px dotted black; */
}

.tooltip_r .tooltiptext_r {
  visibility: hidden;
  min-width: 120px;
  max-width: 300px;
  width: auto;
  background-color: var(--accent-color);
  color: #000;
  text-align: center;
  border-radius: 6px;
  padding: 8px 12px;
  white-space: normal;
  word-wrap: break-word;
  /* Position the tooltip */
  position: absolute;
  z-index: 9999;
  top: -5px;
  left: 105%;
  border: 2px solid white;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
}

.tooltip_r:hover .tooltiptext_r {
  visibility: visible;
}

.tooltip_r:hover .tooltiptext_r {
  visibility: visible;
  transition: all 0.45s ease 0.45s;
}

.tooltip_h {
  position: relative;
  display: inline-block;
  /* border-bottom: 1px dotted black; */
}

.tooltip_h .tooltiptext_h {
  visibility: hidden;
  min-width: 120px;
  max-width: 300px;
  width: auto;
  background-color: var(--accent-color);
  color: #000;
  text-align: center;
  border-radius: 6px;
  padding: 8px 12px;
  white-space: normal;
  word-wrap: break-word;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
  border: 2px solid white;
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  bottom: 100%;
  left: 5%;
  margin-left: -60px;
  /* text-shadow: 0px 0px 0px #CE5937; */
}

.tooltip_h:hover .tooltiptext_h {
  visibility: visible;
}

.tooltip_h:hover .tooltiptext_h {
  visibility: visible;
  transition: all 0.45s ease 0.45s;
}

.zoom {
  height: 20px;
  margin: auto;
}
/* .zoom p {
  text-align:center;
  } */
.zoom img {
  width: 20px;
  height: auto;
}

.mega .autocomplete {
  /*the container must be positioned relative:*/
  position: relative;
  display: inline-block;
}

.mega .autocomplete-items {
  position: absolute;
  border: 1px solid var(--accent-color);
  box-shadow: -1px 2px 5px 1px rgba(0, 0, 0, 0.7);
  border-radius: var(--corner-radius);
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}
.mega .autocomplete-items div {
  padding: 2px;
  cursor: inherit;
  background-color: rgba(201, 164, 83, 0.9);
  border-bottom: 1px solid #d4d4d4;
}
.mega .autocomplete-items div:hover {
  /*when hovering an item:*/
  background-color: var(--accent-color);
}
.mega .autocomplete-active {
  /*when navigating through the items using the arrow keys:*/
  background-color: var(--accent-color) !important;
  color: #ffffff;
}

#navigation {
  width: 100%;
  margin: 12px 0 0 0;
  padding: 0;
  background: none;
  box-shadow: none;
  border: none;
  pointer-events: none;
}
#navigation .nav-item {
  line-height: 32px;
  padding: 0 8px;
  margin: 0 8px 8px 0;
  border-radius: 3px;
  cursor: inherit;
  position: relative;
  pointer-events: all;
  box-shadow: var(--drop-shadow);
  font-size: 12pt;
  text-align: center;
  margin: 10px 5px;
  border: none !important;
  background: var(--blur-background-high);
  color: black;
  font-weight: 700;
  backdrop-filter: var(--blur-filter-high);
}

.window-app .window-resizable-handle {
  background: none;

  border: none;

  color: var(--text-color);
}

#settings #game-details {
  color: var(--text-color);
}
/* .tab[data-tab].active{
    height: 817px;
    overflow: auto;
  } */

.playlists-sidebar .playlist .playlist-header .playlist-name i.fa {
  color: var(--color-text-light-6);
  margin-left: 5px;
}

.header-button {
  color: var(--text-color);
}
.window-title {
  color: var(--text-color);
}

.popout-module-button {
  color: var(--text-color);
}

.gradient-button {
  background: var(--opacity-clear-color);
  font-family: "Mega";
  margin: 2px;
  border: 1px solid var(--accent-color);
  font-size: 14px;
  text-align: center;
  transition: 0.5s;
  border-radius: var(--corner-radius);
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.12),
    0 1px 2px rgba(0, 0, 0, 0.24);
  transition: all 1s cubic-bezier(0.25, 0.8, 0.25, 1);
  cursor: inherit;
  width: 100%;
}

.gradient-button:hover {
  box-shadow: 0 0 1px 2px var(--accent-color) !important;
  background: var(--accent-color);
  opacity: 0.9;
  /* margin: 8px 10px 12px; */
}

#client-settings {
  max-height: 70%;
}
#client-settings nav.tabs {
  border: none;
}

/* ----------------------------------------- */
/*  Compendium Packs                         */
/* ----------------------------------------- */
/**
  * Compendium Packs Sidebar
  */

/*====================== Misc ========================*/

.filepicker .display-modes a {
  background: none;
  border: none;
}
.filepicker .display-modes a.active {
  border: none;
  background: none;
  color: var(--accent-color);
  text-shadow: none;
}
.filepicker .directory {
  border: none;
  border-radius: var(--corner-radius);
}
.filepicker .directory > li {
  border: none;
}
.filepicker .directory > li.picked {
  background: var(--blur-foreground);
  color: var(--text-color);
}
.filepicker .directory > li:hover {
  text-shadow: none;
  background: var(--blur-foreground-bright);
}
.filepicker .tiles-list li.picked {
  box-shadow: none;
}

#settings button {
  /* margin: 6px!important; */
  margin: 6px 0 !important;
  border: none !important;
  border-radius: var(--corner-radius);
  color: var(--text-color) !important;
  /* box-shadow: -1px 1px 2px 1px #ffc56e; */
}

#settings button:hover {
  box-shadow: 0 0 1px 2px var(--accent-color) !important;
  background: var(--accent-color) !important;
  cursor: inherit;
}

#settings button:focus {
  box-shadow: 0 0 1px 2px var(--accent-color) !important;
  cursor: inherit;
}

#menu {
  background: var(--blur-background-high);
  backdrop-filter: blur(var(--blur-filter-low));
  color: var(--text-color);
  box-shadow: var(--drop-shadow);
}
#menu #menu-items li:hover {
  text-shadow: 0 0 10px #ffffff;
}
#module-management .package-list .package-title,
.package-list .package .package-description,
.package-list .package .package-metadata {
  text-decoration: none;
  color: var(--text-color) !important;
}
a[href] {
  color: var(--accent-color) !important;
}
.package-list .package {
  border: none;
}
.tox .tox-toolbar,
.tox .tox-toolbar__overflow,
.tox .tox-toolbar__primary {
  background: none !important;
}
.tox .tox-editor-container {
  background: white;
  border-radius: var(--corner-radius);
}
.tox.tox-tinymce .tox-tbtn {
  background: none !important;
  color: black !important;
}
.editor-content * {
  color: var(--text-color) !important;
}

a.entity-link,
a.inline-roll {
  background: var(--blur-foreground-bright);
  color: var(--text-color);
}

/*==================== HUD ==============================*/
.placeable-hud .control-icon {
  background: var(--blur-background-high) !important;
  backdrop-filter: var(--blur-filter-high);
  color: var(--text-color) !important;
  border: none !important;
}
#token-hud .control-icon.effects {
  backdrop-filter: none;
}
.placeable-hud input[type="text"] {
  background: var(--blur-background-high) !important;
  /* border:none; */
  backdrop-filter: var(--blur-filter-low) !important;
  color: var(--text-color) !important;
}

.placeable-hud input[type="text"]:focus {
  border: none;
  box-shadow: 0 0 5px var(--accent-color) !important;
}
#token-hud .attribute i.fas {
  color: var(--text-color);
  z-index: 1;
}
#token-hud .status-effects {
  background: var(--blur-background-high) !important;
  backdrop-filter: var(--blur-filter-high);
  border: none;
  color: black !important;
  border-radius: var(--corner-radius);
  box-shadow: var(--drop-shadow);
}
.placeable-hud .control-icon img,
#token-hud .status-effects .effect-control {
  filter: var(--icon-invert);
  -webkit-filter: var(--icon-invert);
}

.btn_oui,
.btn_non {
  width: 20px !important;
  line-height: 1em;
  padding: 0 !important;
  font-size: 14px;
}

.NoSpe,
.btn_spes1,
.btn_spes2,
.btn_spes3,
.btn_spes4,
.btn_spes5,
.btn_spes6 {
  font-family: "Mega", sans-serif;
  border-radius: var(--corner-radius);
  height: 50px !important;
  width: 60px;
  line-height: 1em;
  padding: 0% !important;
}

.vivacite,
.sens,
.adresse,
.reflexion,
.ardence,
.force,
.caractere,
.resonnance,
.endurance {
  font-family: "Mega", sans-serif;
  border-radius: var(--corner-radius);
  height: 40px !important;
  line-height: 1em;
  padding: 0% !important;
  width: 120px;
  font-size: 14px;
}

.NC,
.auto,
.b-1,
.b-2,
.b-3,
.b-4,
.b-5,
.b-6,
.b0,
.b1,
.b2,
.b3,
.b4,
.b5,
.b6,
.b7,
.b8,
.b9,
.b10,
.b11,
.b12,
.b13,
.b14,
.b15,
.b16,
.b17,
.b18,
.b19,
.b20,
.b21,
.b22,
.b23,
.b24,
.b25,
.b26,
.b27,
.b28,
.b29,
.b30 {
  font-family: "Mega", sans-serif;
  border-radius: 50% !important;
  height: 30px !important;
  width: 30px !important;
  font-size: 14px !important;
  padding: 0% !important;
}

.dialog button {
  border: none !important;
  border-radius: var(--corner-radius);
  height: 50px;
  font-family: "Mega", sans-serif;
  text-align: center;
  line-height: 1em;
  padding: 0px;
  margin-left: 5px;
  margin-right: 5px;
}

.dialog .dialog-buttons button {
  margin-left: 5px;
  margin-right: 5px;
  padding: 0px;
}

.dialog button:hover {
  background: var(--accent-color) !important;
  cursor: inherit;
}

#pause {
  background: radial-gradient(var(--accent-color), transparent);
  z-index: 10;
  position: fixed;
  bottom: 40%;
}

#pause img {
  position: absolute;
  top: -16px;
  left: calc(50% - 64px);
  height: 180px;
  width: 128px;
  opacity: 0.5;
  border: none;
  --fa-animation-duration: 5s;
}

#pause figcaption {
  margin: 0;
  font-size: 3em;
  font-weight: normal;
  line-height: 100px;
  text-align: center;
  position: relative;
  z-index: calc(var(--z-index-window) - 1);
  color: var(--color-text-light-1);
  opacity: 0.8;
  text-shadow: 1px 1px 30px var(--color-shadow-dark);
  font-family: "Mega", sans-serif;
}

/*======================== CAMERA WINDOW =====================*/
#camera-views {
  left: 0px;
}

#camera-views .video-container {
  border-radius: var(--corner-radius);
  background: none;
}
#camera-views.camera-size-medium .camera-box-dock,
#camera-views.camera-size-small .camera-box-dock,
#camera-views.camera-size-large .camera-box-dock,
.window-content .camera-view,
.camera-box-popout {
  border: none;
  box-shadow: var(--drop-shadow);
  border-radius: var(--corner-radius);
  background: var(--blur-background-high);
  backdrop-filter: var(--blur-filter-low);
}

.camera-view .player-name {
  border-radius: 0 0 var(--corner-radius);
}
#camera-views .video-container img.user-avatar.local-camera,
#camera-views .video-container video.user-camera.local-camera {
  border-radius: var(--corner-radius) var(--corner-radius) 0 0;
}
.camera-view .control-bar,
.camera-view .notification-bar {
  background: none;
  border: none;
  margin: 6px;
}
.camera-view .av-control i {
  color: white;
}
#camera-views .video-container img.user-avatar,
#camera-views .video-container video.user-camera {
  background: #ffffff73;
  border-radius: var(--corner-radius);
}
#camera-views .video-container img.user-avatar,
#camera-views .video-container video.user-camera {
  background: #0a0a0a;
  border-radius: var(--corner-radius) var(--corner-radius) 0 0;
}
/*================== NOTIFICATIONS ==================*/
.notification.warning {
  background: #e5b70fd1;
  border: none;
  border-radius: var(--corner-radius);
  backdrop-filter: var(--blur-filter-high);
  font-size: 12pt;
}
.notification.info {
  background: #3a6affc4;
  border: none;
  border-radius: var(--corner-radius);
  backdrop-filter: var(--blur-filter-high);
  font-size: 12pt;
}
.notification.error {
  background: #c40e0e8c;
  border: none;
  border-radius: var(--corner-radius);
  backdrop-filter: var(--blur-filter-high);
  font-size: 12pt;
}

/*================ LOADING ============================*/
/* #loading {
  border: none;
  box-shadow: none;
  top: 0 !important;
  background: #ed000000;
  height: 100%;
  left: 0;
  width: 100%;
  backdrop-filter: blur(100px);
  border-radius: var(--corner-radius);
  pointer-events: none;
}

#loading #loading-bar {
  top: 100px;
  height: 20px;
  left: calc(50% - 39.5%);
  width: 69% !important;
  background: var(--accent-color);
  border: none;
  border-radius: var(--corner-radius);
}

#loading label,
#loading #progress {
  background: none;
  top: 2px;
  text-shadow: none;
} */

/*================ EQUIPEMENTS ============================*/

.clic_technique_combat {
  border-width: 1px;
  border-radius: 5px;
}

input.clic_technique_combat {
  border-width: 1px;
  border-radius: 5px;
}

/*=================== CALENDAR/WEATHER =================*/

#calendar-time-container {
  background: var(--blur-background-high) !important;
  border-radius: var(--corner-radius) !important;
  backdrop-filter: var(--blur-filter-high);
}
.calendar--header {
  background: var(--blur-foreground) !important;
  color: var(--text-color) !important;
}
.calendar-btn {
  color: var(--text-color) !important;
}
.clock--time-display .time {
  color: var(--text-color);
}
#clock-run-indicator {
  color: #da7474 !important;
}
.calendar-weather--content {
  background: #0000007a !important;
}
.calendar-events-container,
.calendar-form-container {
  background: none !important;
}
.calendar-collapsable {
  border: none;
  margin: 2px 0px;
  padding: 0 2px !important;
}
.calendar-collapsable:hover {
  border: none !important;
}

/*==================== Simple Dice Roller ===========*/
.simple-dice-roller-popup {
  background: var(--blur-background-high) !important;
  color: var(--text-color) !important;
  border: none !important;
  border-radius: var(--corner-radius) !important;
  margin: 10px !important;
  backdrop-filter: blur(10px);
}
.simple-dice-roller-popup li:hover {
  border: none !important;
  border-right: 1px solid #333;
  background: var(--blur-foreground);
  box-shadow: none !important;
}

/*================= Monks Modules ============= */
#tokenbar .bar-controls {
  background: var(--blur-background-high) !important;
  backdrop-filter: var(--blur-filter-high);
  color: var(--text-color) !important;
  border-radius: 8px !important;
  overflow: hidden;
  box-shadow: var(--drop-shadow) !important;
  border: none !important;
}
#tokenbar .bar-controls div#tokenbar-move-handle {
  background: var(--blur-foreground) !important;
}
#tokenbar .token {
  background: var(--blur-background-high) !important;
  box-shadow: var(--drop-shadow) !important;
  backdrop-filter: var(--blur-filter-high);
  border: none !important;
  margin: 0 3px;
  border-radius: 8px !important;
}
#tokenbar .token .token-stats {
  background: none !important;
  filter: var(--icon-invert);
}
#tokenbar .token-list {
  border: none !important;
}
#tokenbar .token .token-icon {
  box-shadow: none !important;
}
#tokenbar .bar-controls .token-movement:not(.disabled):hover {
  filter: none !important;
  color: white;
}
/* Monks status effects */
#token-hud.monks-little-details .status-effects .effect-name {
  color: var(--text-color) !important;
}
#token-hud.monks-little-details.highlight-image
  .status-effects
  .effect-control.active,
#token-hud.monks-little-details.highlight-image
  .status-effects
  .pf2e-effect-control.active {
  filter: var(--icon-invert) !important;
  color: var(--accent-color);
}

#tokenbar[movement="free"]
  .token-movement[data-movement="free"]:not(.disabled)
  i,
#tokenbar[movement="none"]
  .token-movement[data-movement="none"]:not(.disabled)
  i,
#tokenbar[movement="combat"]
  .token-movement[data-movement="combat"]:not(.disabled)
  i {
  color: var(--accent-color) !important;
  border: 1px solid var(--accent-color) !important;
}
#token-hud.monks-little-details .status-effects .effect-control.active,
#token-hud.monks-little-details .status-effects .pf2e-effect-control.active {
  color: var(--accent-color) !important;
  border: none !important;
  opacity: 1 !important;
}
#token-hud.monks-little-details
  .status-effects
  .effect-control.active
  + .effect-name,
#token-hud.monks-little-details
  .status-effects
  .pf2e-effect-img-container.active
  + .effect-name {
  color: var(--accent-color) !important;
}

/*=================== DiCE TRAY =========================*/
.dice-tray button {
  color: var(--text-color) !important;
  box-shadow: none !important;
}
.dice-tray button svg * {
  fill: var(--text-color) !important;
}
.dice-tray button:hover svg * {
  fill: var(--accent-color) !important;
  border: none;
}
.dice-tray input[type="text"] {
  box-shadow: none !important;
}

.dice-tray input[type="text"]:hover,
.dice-tray input[type="text"]:focus {
  box-shadow: 0 0 4px var(--accent-color) !important;
  -webkit-box-shadow: none;
  border: 1px solid var(--accent-color) !important;
}
/*==================== CUSTOM HOTBAR ======================*/
#custom-hotbar {
  left: calc(50% - 305px) !important;
  width: 610px !important;
  bottom: 70px !important;
  /* z-index: 420 !important; */
}
#custom-hotbar:hover {
  z-index: 420 !important;
}
#custom-hotbar .bar-controls {
  border: none !important;
  background: var(--blur-background-thick) !important;
  color: var(--text-color) !important;
  border-radius: 8px !important;
  box-shadow: none !important;
  backdrop-filter: blur(3px);
}
#custom-hotbar #custom-macro-list {
  background: none !important;
  border: none !important;
  border-radius: 0 !important;
  flex: 0 0 540px !important;
  margin: 0 !important;
  padding: 0 !important;
}
#custom-hotbar .bar-controls a {
  background: var(--blur-background-high);
  border-radius: 8px;
}
#custom-hotbar .macro {
  margin: 0 2px 0 2px !important;
  border: none !important;
  padding: 0 !important;
  height: 100% !important;
  filter: saturate(25%) brightness(1);
  -webkit-filter: saturate(25%) brightness(1);
  border-radius: var(--corner-radius) !important;
  backdrop-filter: blur(15px) !important;
  box-shadow: var(--drop-shadow) !important;
}
#custom-hotbar .macro.active {
  filter: none !important;
  -webkit-filter: none !important;
}
#custom-hotbar .macro .custom-macro-key {
  top: 0 !important;
  right: 0 !important;
  margin: 0;
  padding: 0;
  border-radius: 0 10px;
}
#custom-hotbar img {
  width: 100% !important;
  height: 100% !important;
  border: none !important;
  border-radius: inherit;
  padding: 0 !important;
  margin: 0 !important;
}
#custom-hotbar #custom-action-bar {
  height: 100% !important;
}

/*=========== CONTROLS CONCEALER ============== */
#control-concealer {
  position: fixed;
  top: 10px;
  left: 130px;
}
.control-concealer-tab {
  width: 36px !important;
  height: 36px !important;
  border: none !important;
  background: var(--blur-foreground-bright) !important;
  color: var(--text-color) !important;
  line-height: 36px !important;
  font-size: 14pt !important;
}
.control-concealer-tab.active {
  border: 1px solid var(--accent-color) !important;
  box-shadow: 0 0 10px var(--accent-color) !important;
  color: var(--accent-color) !important;
  font-weight: 900;
}

/*==============GM SCREEN =====================*/
.gm-screen-app.gm-screen-drawer {
  width: calc(
    var(--gm-screen-width) / 100 *
      (100vw - var(--gm-screen-right-offset) - var(--sidebar-width) - 10px)
  ) !important;
  right: auto !important;
  left: 0px;
}
.gm-screen-app .gm-screen-container {
  border-radius: var(--corner-radius) !important;
  backdrop-filter: none;
}
.gm-screen-app .gm-screen-grid-cell {
  border-radius: var(--corner-radius) !important;
}
.gm-screen-app .gm-screen-actions button:hover {
  text-shadow: 0 0 10px var(--accent-color) !important;
  border: none;
}
/*================= TABBED CHAT LOG =========*/
.tabbedchatlog.tabs {
  border-bottom: 1px solid var(--barely-visible) !important;
  box-shadow: none !important;
}
.tabbedchatlog .item.active {
  border: none !important;
  box-shadow: none !important;
}

.regle-button {
  white-space: nowrap;
  width: 70%;
  padding: 5px 10px;
  font-size: 14px;
  height: 40px;
  line-height: 40px;
}

.custom-dropdown {
  position: relative;
  display: inline-block;
  width: 100%;
}

.dropdown-options {
  display: none;
  position: absolute;
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 4px;
  width: 100%;
  max-height: 150px;
  overflow-y: auto;
  z-index: 1000;
}

.option {
  padding: 10px;
  cursor: pointer;
}

.option:hover {
  background-color: #f0f0f0;
}

.fxmaster .directory-header {
  align-items: center;
  box-shadow: 0 0 5px var(--color-shadow-dark);
  color: black;
  font-size: var(--font-size-12);
  line-height: var(--line-height-12);
  margin: 0;
  padding: 4px 0;
}
.fxmaster-directory-header-attribute--elevation {
  flex-basis: 5px;
  margin-left: 4px;
  position: relative;
}
.fxmaster-directory-header-attribute__icon {
  left: -1px;
  position: absolute;
  top: -3px;
}
.fxmaster-directory-header-attribute__input[type="number"] {
  color: var(--blur-background-med);
  font-size: var(--font-size-12);
  line-height: var(--line-height-12);
}
.fxmaster.specials .directory-item.folder h3 {
  border: none;
}
.fxmaster .directory-item.active {
  background: #ff640066;
}
.fxmaster.specials .directory-item.special-effects {
  line-height: inherit;
}
.fxmaster.specials .special-effects .description {
  overflow: hidden;
  padding: 4px;
}
.fxmaster.specials .special-effects .description h4 {
  font-size: var(--font-size-14, 14px);
  height: 32px;
  line-height: var(--line-height-16, 16px);
  text-indent: 5px;
}
.fxmaster.specials .special-effects .description .author {
  color: var(--color-text-light-7);
  flex: 0 calc(var(--line-height-12) / 12 * 10);
  font-size: calc(var(--font-size-12) / 12 * 10);
  line-height: calc(var(--line-height-12) / 12 * 10);
  text-align: right;
}
.fxmaster.specials .special-effects .controls {
  flex: 0 0 40px;
  line-height: 48px;
  padding: 0 3px;
  text-align: right;
}
.fxmaster.specials .special-effects .preview {
  background: #000;
  border: 1px solid black;
  flex: 0 0 48px;
  height: 48px;
}
.fxmaster.specials .action-toggle.active {
  color: black;
}
.fxmaster-groups-list--particle-effects,
.fxmaster-list--filters {
  height: 370px;
}
:root {
  --fxmaster-color-bg-button: rgba(255, 255, 240, 0.8);
}
.fxmaster-groups-list,
.fxmaster-list {
  margin: 0;
  overflow-y: auto;
  padding: 0;
}
.fxmaster-groups-list__item,
.fxmaster-list__item {
  list-style: none;
  padding: 4px;
}
.fxmaster-groups-list__item {
  border-bottom: 2px solid var(--color-border-dark-3);
}
.fxmaster-list__item {
  border-bottom: 1px solid var(--color-border-dark-3);
}
.fxmaster-groups-list__item:last-of-type,
.fxmaster-list__item:last-of-type {
  border-bottom: none;
}
.fxmaster-list__item-header {
  align-items: center;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
}
.fxmaster-list__item-header > * {
  flex: 1;
}
.fxmaster-groups-list__collapse,
.fxmaster-list__collapse {
  cursor: pointer;
  font-size: var(--font-size-16);
  text-indent: 5px;
}
.fxmaster-groups-list__collapse:hover,
.fxmaster-list__collapse:hover {
  text-shadow: 0 0 4px var(--color-shadow-primary);
}
.fxmaster-groups-list__collapsible,
.fxmaster-list__collapsible {
  margin: 0;
  overflow: hidden;
  padding: 0;
}
.fxmaster-groups-list__collapsible--collapsed,
.fxmaster-list__collapsible--collapsed {
  display: none;
}
.fxmaster-list__icon {
  border: none;
  flex: 0 0 18px;
  font-size: var(--font-size-16);
  line-height: var(--line-height-20);
  text-align: center;
}
.fxmaster-form-footer {
  padding: 5px;
}
.fxmaster-form-footer__button {
  background-color: var(--fxmaster-color-bg-button);
  border: 1px solid var(--color-border-light-primary);
}
.fxmaster-multi-select {
  background: transparent;
  border: 1px solid var(--color-border-light-primary);
  border-radius: 0;
  color: var(--color-border-light-1);
}
.fxmaster-multi-select:focus {
  box-shadow: none;
}
.fxmaster-multi-select__option {
  background: transparent;
}
.fxmaster-multi-select__option:checked {
  border: 1px solid var(--color-border-highlight);
  color: var(--color-text-light-highlight);
}
.fxmaster-text-input[type="text"] {
  border: 1px solid var(--color-border-light-primary);
  color: black;
  height: 20px;
  padding: 2px;
  text-align: center;
}
.fxmaster-filter-name {
  color: black;
}

.chat-message .tidbit-content {
  /* background-color: var(--palette-tertiary, var(--var-tidbits-message)); */
  color: darkslategray;
  position: relative;
}

.initiative-input {
  width: 40px;
}

.standard-form fieldset {
  padding: 1rem;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  gap: 1rem;
  border-color: var(--color-fieldset-border);
  border-radius: 8px;
}
.standard-form fieldset legend {
  font-size: var(--font-size-15);
  font-weight: bold;
}

form .form-group .form-fields button {
  border-radius: 8px;
  border: none;
}

/* boutons de formulaire */
form button {
  margin: 6px 0 !important;
  background: var(--blur-foreground-bright) !important;
  border: none !important;
  border-radius: var(--corner-radius);
  color: var(--text-color) !important;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
}

form button:hover {
  box-shadow: 0 0 1px 2px var(--accent-color) !important;
  background: var(--accent-color) !important;
  cursor: inherit;
}

form button:focus {
  box-shadow: 0 0 1px 2px var(--accent-color) !important;
  cursor: inherit;
}

input::placeholder {
  filter: brightness(70%);
  color: var(--text-color) !important;
  opacity: 0.5;
  font-style: italic;
}
input[type="text"],
input[type="number"],
input[type="password"],
input[type="date"],
input[type="time"] {
  /* border: none !important; */
  color: var(--text-color) !important;
  /* background: var(--blur-foreground) !important; */
  border-radius: var(--corner-radius);
}
input[type="text"]:focus,
input[type="number"]:focus,
input[type="password"]:focus,
input[type="date"]:focus,
input[type="time"]:focus {
  border: 1px solid var(--accent-color) !important;
  box-shadow: 0 0 5px var(--accent-color) !important;
}
input[type="text"]:hover,
input[type="number"]:hover,
input[type="password"]:hover,
input[type="date"]:hover,
input[type="time"]:hover {
  box-shadow: 0 0 3px var(--accent-color) !important;
}
input[type="range"]::-webkit-slider-thumb {
  background: var(--accent-color);
  border-radius: calc(var(--corner-radius) * 0.8);
  border: none;
}
input[type="range"]::-webkit-slider-runnable-track {
  border: none;
  box-shadow: none;
}
input[type="range"] + .range-value {
  color: var(--text-color);
}
select {
  border: none;
  background: var(--opacity-clear-color) !important;
  color: var(--text-color);
  border-radius: var(--corner-radius);
  text-align: center;
  cursor: inherit;
}
select:focus {
  box-shadow: 0 0 5px 2px var(--accent-color);
  outline: none;
  background: var(--opacity-color) !important;
  cursor: inherit;
}
select:hover {
  cursor: inherit;
}

select option:hover,
select option:focus,
select option:active {
  background: linear-gradient(#000000, #000000);
  background-color: #000000 !important; /* for IE */
  color: #ffed00 !important;
  cursor: inherit;
}

select option:checked {
  background: linear-gradient(#d6d6d6, #d6d6d6);
  background-color: var(--accent-color) !important; /* for IE */
  color: #000000 !important;
  cursor: inherit;
}

select * {
  background: var(--blur-background-low);
  color: var(--text-color);
}

input[type="color"][data-edit][data-edit] {
  border: none;
  border-radius: var(--corner-radius);
}
.form-fields input[type="text"],
.form-fields input[type="number"] {
  background-color: rgba(209, 209, 209, 0.4);
  text-align: center;
}

.standard-form {
  display: flex;
  /* flex-direction: column; */
  flex-wrap: nowrap;
  gap: 1rem;
  /* background-image: url("../images/parchment.png"); */
}

.standard-form button {
  text-align: center;
}

@media (prefers-color-scheme: light) {
  .window-app .window-content {
    background-image: url("../images/parchment.png") !important;
  }
  .window-header {
    border-bottom: 1px dashed grey;
    background-image: url("../images/parchment.png");
    border-radius: var(--corner-radius) var(--corner-radius) 0 0;
    background-clip: padding-box;
    color: #000;
  }

  .compendium-directory .window-header {
     background-image: none;
  }
  .window-header button{
    color: #000;
  }
  .mega .sheet-header {
    background-image: url("../images/banniereMega.png");
  }
  .window-app {
    background-image: url("../images/parchment.png");
  }

  .title {
    color: #000;
  }
  .standard-form {
    background-image: url("../images/parchment.png");
  }
  .standard-form input {
    color: #000 !important;
  }
   .chat-message {
  background:
    linear-gradient(var(--opacity-clear-color), var(--opacity-clear-color)),
    url("../images/parchment.png");
  }
  .mega input,
  .mega textarea,
  .mega select {
    color: #000 !important;
  }
  .mega input[type="text"],
  .mega input[type="number"],
  .mega input[type="password"],
  .mega input[type="date"],
  .mega input[type="time"],
  .mega textarea,
  .mega select {
    color: #000 !important;
  }
  .dialog button {
    background: var(--button-light-color) !important;
    color: #000 !important;
  }
  .dialog button:hover {
    color:var(--button-dark-color) !important;
  }
  #settings button {
    background: var(--button-light-color) !important;
    color: #000 !important;
  }
  form button {
    background: var(--button-light-color) !important;
    color: #000 !important;
  }
  .journal-sheet {
    background-image: url("../images/parchment.png");
    border: #000 1px solid !important;
  }
  .journal-sheet .page-title{
    color: #000 !important;
  }
}

@media (prefers-color-scheme: dark) {
  .window-app .window-content {
    background-image: url("../images/parchment_dark.png") !important;
  }
  .window-header {
    border-bottom: 1px dashed grey;
    /* background-image: url("../images/parchment_dark.png"); */
  }
  .mega .sheet-header {
    background-image: url("../images/banniereMega_dark.png");
  }
  .window-app {
    background-image: url("../images/parchment_dark.png") ;
  }
  .window-title {
    color: var(--dark-color-text) !important;
  }
  .chat-message {
  background:
    linear-gradient(var(--opacity-clear-color), var(--opacity-clear-color)),
    url("../images/parchment_dark.png");
  }
  .mega input,
  .mega textarea,
  .mega select {
    color: #000 !important;
  }
  .mega input[type="text"],
  .mega input[type="number"],
  .mega input[type="password"],
  .mega input[type="date"],
  .mega input[type="time"],
  .mega textarea,
  .mega select {
    color: #000 !important;
  }
  .dialog button {
    background: var(--button-dark-color) !important;
    color: var(--dark-color-text) !important;
  }
  .dialog button:hover {
    color:var(--button-light-color) !important;
  }
  #settings button {
    background: var(--button-dark-color) !important;
    color: var(--dark-color-text) !important;
  }
  form button {
    background: var(--button-dark-color) !important;
    color: var(--dark-color-text) !important;
  }
  .title {
    color: var(--dark-color-text);
  }

}

/* ========================================= */
/*  Fix bordures images journaux - MEGA     */
/* ========================================= */
/* Suppression des bordures pour toutes les images dans les journaux */
.journal-sheet img,
.journal-entry img,
.journal-entry-page img,
.prosemirror img,
figure img,
.editor-content img,
.journal-entry-page.image figure img,
.journal-entry-page.image .image-preview img,
.journal-page img,
.journal-entry-content img {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* ========================================= */
/*  MEGA Settings Page Styling              */
/* ========================================= */

/* Styles spécifiques UNIQUEMENT pour les paramètres du système MEGA */
.mega-settings-form .form-group,
.form-group.mega-setting-item,
.form-group[data-setting="mega.bagarre_video_path"],
.form-group[data-setting="mega.bagarre_son_path"],
.form-group[data-setting="mega.charge_video_path"],
.form-group[data-setting="mega.charge_son_path"],
.form-group[data-setting="mega.pouvoir_video_path"],
.form-group[data-setting="mega.pouvoir_son_path"],
.form-group[data-setting="mega.effets_speciaux"] {
  background: linear-gradient(135deg, rgba(255,215,0,0.1) 0%, rgba(218,165,32,0.05) 100%) !important;
  border: 2px solid rgba(218,165,32,0.3) !important;
  border-radius: 8px !important;
  padding: 15px !important;
  margin: 10px 0 !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
  transition: all 0.3s ease !important;
}

/* Effets de survol UNIQUEMENT pour les paramètres MEGA */
.mega-settings-form .form-group:hover,
.form-group.mega-setting-item:hover,
.form-group[data-setting="mega.bagarre_video_path"]:hover,
.form-group[data-setting="mega.bagarre_son_path"]:hover,
.form-group[data-setting="mega.charge_video_path"]:hover,
.form-group[data-setting="mega.charge_son_path"]:hover,
.form-group[data-setting="mega.pouvoir_video_path"]:hover,
.form-group[data-setting="mega.pouvoir_son_path"]:hover,
.form-group[data-setting="mega.effets_speciaux"]:hover {
  border-color: rgba(218,165,32,0.6) !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2) !important;
  transform: translateY(-2px) !important;
}

/* Styles spécifiques pour les paramètres vidéo/audio MEGA */
.form-group[data-setting="mega.bagarre_video_path"],
.form-group[data-setting="mega.charge_video_path"],
.form-group[data-setting="mega.pouvoir_video_path"],
.mega-setting-item[data-setting-key*="video_path"] {
  background: linear-gradient(135deg, rgba(138,43,226,0.1) 0%, rgba(75,0,130,0.05) 100%) !important;
  border: 2px solid rgba(138,43,226,0.3) !important;
}

.form-group[data-setting="mega.bagarre_son_path"],
.form-group[data-setting="mega.charge_son_path"],
.form-group[data-setting="mega.pouvoir_son_path"],
.mega-setting-item[data-setting-key*="son_path"] {
  background: linear-gradient(135deg, rgba(138,43,226,0.1) 0%, rgba(75,0,130,0.05) 100%) !important;
  border: 2px solid rgba(138,43,226,0.3) !important;
}

/* Survol pour les paramètres audio/vidéo MEGA */
.form-group[data-setting="mega.bagarre_video_path"]:hover,
.form-group[data-setting="mega.charge_video_path"]:hover,
.form-group[data-setting="mega.pouvoir_video_path"]:hover,
.form-group[data-setting="mega.bagarre_son_path"]:hover,
.form-group[data-setting="mega.charge_son_path"]:hover,
.form-group[data-setting="mega.pouvoir_son_path"]:hover,
.mega-setting-item[data-setting-key*="video_path"]:hover,
.mega-setting-item[data-setting-key*="son_path"]:hover {
  border-color: rgba(138,43,226,0.6) !important;
}

/* Labels UNIQUEMENT pour les paramètres MEGA */
.mega-settings-form .form-group label,
.form-group.mega-setting-item label,
.form-group[data-setting^="mega."] label {
  font-weight: bold !important;
  color: #2c3e50 !important;
  text-shadow: 1px 1px 2px rgba(255,255,255,0.8) !important;
  font-size: 14px !important;
  display: block !important;
  margin-bottom: 5px !important;
}

form[data-setting-type="mega"] .form-group:hover {
  border-color: rgba(218,165,32,0.6);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  transform: translateY(-2px);
}

/* Encadré pour les paramètres audio/vidéo */
form[data-setting-type="mega"] .form-group[data-setting-key*="video_path"],
form[data-setting-type="mega"] .form-group[data-setting-key*="son_path"] {
  background: linear-gradient(135deg, rgba(138,43,226,0.1) 0%, rgba(75,0,130,0.05) 100%);
  border: 2px solid rgba(138,43,226,0.3);
}

form[data-setting-type="mega"] .form-group[data-setting-key*="video_path"]:hover,
form[data-setting-type="mega"] .form-group[data-setting-key*="son_path"]:hover {
  border-color: rgba(138,43,226,0.6);
}

/* Encadré pour les paramètres de système */
form[data-setting-type="mega"] .form-group[data-setting-key*="system"] {
  background: linear-gradient(135deg, rgba(34,139,34,0.1) 0%, rgba(0,100,0,0.05) 100%);
  border: 2px solid rgba(34,139,34,0.3);
}

form[data-setting-type="mega"] .form-group[data-setting-key*="system"]:hover {
  border-color: rgba(34,139,34,0.6);
}

/* Style des labels */
form[data-setting-type="mega"] .form-group label {
  font-weight: bold;
  color: #2c3e50;
  text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
  font-size: 14px;
  display: block;
  margin-bottom: 5px;
}

/* Style des notes/descriptions */
form[data-setting-type="mega"] .form-group .notes {
  font-style: italic;
  color: #6c757d;
  font-size: 12px;
  margin-top: 5px;
  padding: 5px;
  background: rgba(255,255,255,0.5);
  border-radius: 4px;
  border-left: 3px solid #17a2b8;
}

/* Style des champs de saisie */
form[data-setting-type="mega"] .form-group input[type="text"],
form[data-setting-type="mega"] .form-group input[type="file"] {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid #ced4da;
  border-radius: 4px;
  background: rgba(255,255,255,0.9);
  transition: all 0.3s ease;
}

form[data-setting-type="mega"] .form-group input[type="text"]:focus,
form[data-setting-type="mega"] .form-group input[type="file"]:focus {
  border-color: #80bdff;
  box-shadow: 0 0 0 0.2rem rgba(0,123,255,0.25);
  outline: none;
}

/* Icônes pour différents types de paramètres */
form[data-setting-type="mega"] .form-group[data-setting-key*="video_path"] label::before {
  content: "🎬 ";
  font-size: 16px;
  margin-right: 5px;
}

form[data-setting-type="mega"] .form-group[data-setting-key*="son_path"] label::before {
  content: "🔊 ";
  font-size: 16px;
  margin-right: 5px;
}

/* Titre de section pour les paramètres MEGA */
form[data-setting-type="mega"]::before {
  content: "⚔️ Paramètres du Système MEGA";
  display: block;
  font-size: 20px;
  font-weight: bold;
  color: #2c3e50;
  text-align: center;
  margin-bottom: 20px;
  padding: 15px;
  background: linear-gradient(90deg, rgba(218,165,32,0.2), rgba(218,165,32,0.1), rgba(218,165,32,0.2));
  border-radius: 10px;
  border: 2px solid rgba(218,165,32,0.5);
}

/* Style spécial pour les groupes de paramètres liés */
form[data-setting-type="mega"] .form-group[data-setting-key*="bagarre"] {
  border-left: 5px solid #dc3545;
}

form[data-setting-type="mega"] .form-group[data-setting-key*="charge"] {
  border-left: 5px solid #fd7e14;
}

form[data-setting-type="mega"] .form-group[data-setting-key*="pouvoir"] {
  border-left: 5px solid #6f42c1;
}

/* Séparateurs de groupes pour les paramètres MEGA */
.mega-group-separator {
  margin: 25px 0 15px 0;
  padding: 0;
  border: none;
}

.mega-group-title {
  font-size: 18px;
  font-weight: bold;
  color: #2c3e50;
  text-align: center;
  margin: 0;
  padding: 12px 20px;
  background: linear-gradient(90deg, 
    rgba(218,165,32,0.1) 0%, 
    rgba(218,165,32,0.3) 50%, 
    rgba(218,165,32,0.1) 100%);
  border: 2px solid rgba(218,165,32,0.4);
  border-radius: 25px;
  position: relative;
  text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
}

.mega-group-title::before {
  content: "";
  position: absolute;
  left: -5px;
  top: 50%;
  transform: translateY(-50%);
  width: 10px;
  height: 10px;
  background: #DAA520;
  border-radius: 50%;
  box-shadow: 2px 0 4px rgba(0,0,0,0.2);
}

.mega-group-title::after {
  content: "";
  position: absolute;
  right: -5px;
  top: 50%;
  transform: translateY(-50%);
  width: 10px;
  height: 10px;
  background: #DAA520;
  border-radius: 50%;
  box-shadow: -2px 0 4px rgba(0,0,0,0.2);
}

/* Amélioration des hints/notes pour les paramètres MEGA */
.mega-setting-hint {
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Animation d'apparition pour les encadrés */
form[data-setting-type="mega"] .form-group {
  animation: slideInFromLeft 0.6s ease-out;
  animation-fill-mode: both;
}

form[data-setting-type="mega"] .form-group:nth-child(1) { animation-delay: 0.1s; }
form[data-setting-type="mega"] .form-group:nth-child(2) { animation-delay: 0.2s; }
form[data-setting-type="mega"] .form-group:nth-child(3) { animation-delay: 0.3s; }
form[data-setting-type="mega"] .form-group:nth-child(4) { animation-delay: 0.4s; }
form[data-setting-type="mega"] .form-group:nth-child(5) { animation-delay: 0.5s; }
form[data-setting-type="mega"] .form-group:nth-child(6) { animation-delay: 0.6s; }

@keyframes slideInFromLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* =================== TRIANGLES MODERNES POUR VIE ET MÊLÉE =================== */

/* Container principal pour les triangles */
.modern-health-triangle,
.modern-melee-triangle {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100px;
  height: 90px;
  margin: 0 auto;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.9) 0%, 
    rgba(240, 240, 240, 0.8) 50%, 
    rgba(220, 220, 220, 0.7) 100%);
  border-radius: 15px 15px 80% 80%;
  border: 2px solid #ddd;
  box-shadow: 
    0 4px 15px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

/* Effet au survol */
.modern-health-triangle:hover,
.modern-melee-triangle:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.7),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1);
}

/* Styles spécifiques pour la vie */
.modern-health-triangle {
  border-color: #27ae60;
  background: linear-gradient(135deg, 
    rgba(46, 204, 113, 0.1) 0%, 
    rgba(39, 174, 96, 0.1) 50%, 
    rgba(22, 160, 133, 0.1) 100%);
}

/* Styles spécifiques pour la mêlée */
.modern-melee-triangle {
  border-color: #3498db;
  background: linear-gradient(135deg, 
    rgba(52, 152, 219, 0.1) 0%, 
    rgba(41, 128, 185, 0.1) 50%, 
    rgba(44, 62, 80, 0.1) 100%);
}

/* Icône dans le triangle */
.triangle-icon {
  margin-bottom: 8px;
  font-size: 18px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Container pour les valeurs */
.resource-values {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 4px;
  font-weight: bold;
}

/* Inputs modernes */
.modern-resource-input {
  width: 32px !important;
  height: 24px !important;
  border: none !important;
  background: rgba(255, 255, 255, 0.8) !important;
  border-radius: 8px !important;
  text-align: center !important;
  font-size: 14px !important;
  font-weight: bold !important;
  font-family: "Mega", sans-serif !important;
  color: #2c3e50 !important;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.1),
    0 1px 2px rgba(255, 255, 255, 0.8) !important;
  transition: all 0.2s ease !important;
  padding: 2px 4px !important;
}

.modern-resource-input:hover {
  background: rgba(255, 255, 255, 0.95) !important;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.15),
    0 0 8px rgba(52, 152, 219, 0.3) !important;
}

.modern-resource-input:focus {
  outline: none !important;
  background: rgba(255, 255, 255, 1) !important;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.15),
    0 0 12px rgba(52, 152, 219, 0.5) !important;
}

/* Séparateur entre les valeurs */
.resource-separator {
  margin: 0 4px;
  font-size: 14px;
  font-weight: bold;
  color: #7f8c8d;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Label sous les valeurs */
.resource-label {
  font-size: 10px;
  font-weight: bold;
  color: #7f8c8d;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  font-family: "Mega", sans-serif;
}

/* Animation quand la valeur est critique */
.health-current[style*="color: #e74c3c"],
.melee-current[style*="color: #e74c3c"] {
  animation: criticalPulse 2s infinite !important;
}

@keyframes criticalPulse {
  0%, 100% {
    background: rgba(255, 255, 255, 0.8) !important;
    box-shadow: 
      inset 0 2px 4px rgba(0, 0, 0, 0.1),
      0 1px 2px rgba(255, 255, 255, 0.8) !important;
  }
  50% {
    background: rgba(231, 76, 60, 0.1) !important;
    box-shadow: 
      inset 0 2px 4px rgba(231, 76, 60, 0.2),
      0 0 8px rgba(231, 76, 60, 0.4) !important;
  }
}

/* Responsivité pour les petites tailles */
@media (max-width: 800px) {
  .modern-health-triangle,
  .modern-melee-triangle {
    width: 80px;
    height: 75px;
  }
  
  .triangle-icon {
    font-size: 16px;
  }
  
  .modern-resource-input {
    width: 28px !important;
    height: 22px !important;
    font-size: 12px !important;
  }
}

/* États désactivés */
.modern-resource-input:disabled {
  background: rgba(200, 200, 200, 0.5) !important;
  color: #95a5a6 !important;
  cursor: not-allowed !important;
}

/* Side navigation pour armes courtes - comme fiches PJ/PNJ */
.arme-courte-sheet .side-trigger-zone {
  position: fixed;
  right: 0;
  top: 0;
  width: 20px;
  height: 100vh;
  z-index: 1001;
  pointer-events: all;
}

.arme-courte-sheet .side-tabs {
  position: fixed;
  right: -65px;
  top: 50%;
  transform: translateY(-50%);
  width: 50px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 1002;
  transition: all 0.3s ease;
  visibility: hidden;
  opacity: 0;
  pointer-events: all;
}

.arme-courte-sheet .side-trigger-zone:hover ~ .side-tabs,
.arme-courte-sheet .side-tabs:hover {
  /* right: 10px; */
  visibility: visible;
  opacity: 1;
}

.arme-courte-sheet .side-tab-item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  background: var(--opacity-clear-color);
  border: var(--opacity-color) 2px solid;
  border-radius: 12px;
  color: var(--text-color);
  text-decoration: none;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
}

.arme-courte-sheet .side-tab-item:hover {
  background-color: var(--accent-color);
  transform: scale(1.1);
  box-shadow: 0 6px 12px rgba(0,0,0,0.4);
}

.arme-courte-sheet .side-tab-item.active {
  background-color: var(--accent-color);
  transform: scale(1.1);
  box-shadow: 0 6px 12px rgba(0,0,0,0.4);
  border-color: var(--accent-color);
}


@keyframes fadeIn {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
}

/* Responsive design for sidebar */
@media (max-width: 768px) {
    .arme-courte-content {
        padding-right: 20px;
    }
    
    .side-tabs {
        position: fixed;
        bottom: 10px;
        right: 10px;
        top: auto;
        transform: none;
        flex-direction: row;
        padding: 5px 10px;
    }
    
    .side-tab-item {
        width: 40px;
        height: 40px;
        font-size: 14px;
    }
    
    .side-tab-item.active::after {
        top: -8px;
        left: 50%;
        transform: translateX(-50%);
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-bottom: 8px solid #e74c3c;
        border-top: none;
    }
}

/* Amélioration des styles existants pour la compatibilité */
.arme-courte-sheet .window-content {
    padding: 0;
}

.arme-courte-sheet .sheet-header {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    padding: 15px;
    border-bottom: 2px solid #e74c3c;
}

.arme-courte-sheet .sheet-body {
    position: relative;
    height: 100%;
}

/* Styles pour le conteneur d'image et le cercle de charge */
.mega .sheet-header-item .image-container {
    position: relative;
    flex: 0 0 150px;
    height: 150px;
    margin-right: 10px;
}

.mega .sheet-header-item .charge-circle {
    position: absolute;
    top: 10px;
    right: -5px;
    width: 40px;
    height: 40px;
    background-color: var(--accent-color);
    border: 3px solid #ecf0f1;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    z-index: 10;
}

.mega .sheet-header-item .charge-circle input {
    background: transparent;
    border: none;
    color: #ecf0f1;
    font-weight: bold;
    font-size: 12px;
    text-align: center;
    width: 30px;
    height: 30px;
    padding: 0;
    margin: 0;
}

.mega .sheet-header-item .charge-circle input:focus {
    outline: none;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
}

/* Modern weapon feature cards */
.mega .weapon-feature-card {
    /* background: var(--opacity3-clear-color); */
    background :rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(var(--accent-color), 0.8);
    border-radius: 6px;
    padding: 10px;
    margin: 15px 0;
    /* box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); */
    transition: all 0.3s ease;
    backdrop-filter: blur(2px);
    overflow: hidden;
    position: relative;
}


.mega .weapon-feature-card:hover {
    transform: translateY(-2px);
    /* box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4); */
    border-color: var(--accent-color);
    /* background: rgba(255, 255, 255, 0.18); */
}


/* Simple collapsible system */
.mega .collapsible-header {
    cursor: pointer;
    user-select: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    margin: 0;
    padding: 0;
}

.mega .collapsible-header:hover {
    color: var(--accent-color);
    transform: translateX(2px);
}

.mega .collapse-icon {
    transition: transform 0.3s ease;
    font-size: 12px !important;
    margin-left: auto;
}

.mega .card-content {
    max-height: 1000px;
    opacity: 1;
    margin-top: 15px;
    overflow: visible;
    transition: all 0.4s ease;
}

.mega .weapon-feature-card.collapsed .card-content {
    max-height: 0;
    opacity: 0;
    margin-top: 0;
    overflow: hidden;
}

.mega .weapon-feature-card.collapsed .collapse-icon {
    transform: rotate(-90deg);
}

.mega .weapon-feature-card:not(.collapsed) .collapse-icon {
    transform: rotate(0deg);
}

.mega .weapon-feature-card .feature-title {
    font-size: 16px;
    font-weight: bold;
    color: #2c394b;
    margin: 0 0 15px 0;
    display: flex;
    align-items: center;
    gap: 8px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    padding-bottom: 8px;
    /* text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); */
}

.mega .weapon-feature-card .feature-title i {
    font-size: 14px;
}

/* Specific style for advantages card to prevent overflow */
.mega .advantages-card .card-content {
    overflow-x: auto;
    overflow-y: visible;
    padding-right: 5px;
    padding-left: 5px;
}

.mega .advantages-card {
    min-width: 500px; /* Assure une largeur minimale pour les 5 colonnes */
}

/* Damage types grid */
.mega .damage-types-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 15px;
    margin-top: 10px;
}

.mega .damage-type-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.mega .damage-type-item:hover {
    background: var(--accent-color);
    border-color: var(--accent-color);
    transform: scale(1.05);
}

.mega .damage-type-label {
    font-size: 14px;
    color: #2c394b;
    text-align: center;
    font-weight: 500;
    /* text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); */
}

/* Equipment field */
.mega .equipment-field {
    margin-top: 10px;
}

.mega .modern-textarea {
    width: 100%;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    padding: 12px;
    color: #ffffff;
    font-family: inherit;
    font-size: 14px;
    resize: vertical;
    min-height: 120px;
    transition: all 0.2s ease;
}

.mega .modern-textarea:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px rgba(var(--accent-color), 0.2);
}

.mega .modern-textarea::placeholder {
    color: rgba(255, 255, 255, 0.7);
}

/* Defense bonus grid for protection items */
.mega .defense-bonus-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 15px;
    margin-top: 10px;
}

.mega .defense-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 12px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    transition: all 0.3s ease;
}

.mega .defense-stat:hover {
    background: rgba(0, 0, 0, 0.3);
    border-color: rgba(var(--accent-color), 0.6);
    transform: translateY(-2px);
}

.mega .defense-stat label {
    font-size: 12px;
    font-weight: bold;
    color: rgba(255, 255, 255, 0.9);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0;
    text-align: center;
}

.mega .defense-stat .stat-input {
    width: 60px;
    text-align: center;
    padding: 6px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.3);
    color: #ffffff;
    font-size: 14px;
    font-weight: bold;
    transition: all 0.2s ease;
}

.mega .defense-stat .stat-input:focus {
    outline: none;
    border-color: var(--accent-color);
    background: rgba(0, 0, 0, 0.4);
    box-shadow: 0 0 0 2px rgba(var(--accent-color), 0.2);
}

/* Power sheets grid layouts */
.mega .power-header-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 10px;
}

.mega .power-field {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.mega .power-field label {
    font-size: 12px;
    font-weight: bold;
    color: rgba(255, 255, 255, 0.9);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.mega .power-field .stat-input {
    width: 100%;
    padding: 8px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.3);
    color: #ffffff;
    font-size: 14px;
    transition: all 0.2s ease;
}

.mega .power-field .stat-input:focus {
    outline: none;
    border-color: var(--accent-color);
    background: rgba(0, 0, 0, 0.4);
    box-shadow: 0 0 0 2px rgba(var(--accent-color), 0.2);
}

.mega .power-description {
    margin-top: 10px;
}

.mega .power-grades-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 10px;
}

.mega .grade-field {
    display: flex;
    flex-direction: column;
    gap: 5px;
    padding: 10px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    transition: all 0.3s ease;
}

.mega .grade-field:hover {
    background: rgba(0, 0, 0, 0.3);
    border-color: rgba(var(--accent-color), 0.6);
    transform: translateY(-1px);
}

.mega .grade-field label {
    font-size: 11px;
    font-weight: bold;
    color: rgba(255, 255, 255, 0.9);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    text-align: center;
}

.mega .grade-field .stat-input {
    width: 100%;
    text-align: center;
    padding: 6px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.3);
    color: #ffffff;
    font-size: 14px;
    transition: all 0.2s ease;
}

.mega .grade-field .stat-input:focus {
    outline: none;
    border-color: var(--accent-color);
    background: rgba(0, 0, 0, 0.4);
    box-shadow: 0 0 0 2px rgba(var(--accent-color), 0.2);
}

/* Wide fields for power sheets */
.mega .stat-item-wide {
    grid-column: span 2;
    min-width: 220px;
}

.mega .stat-input-wide {
    min-width: 160px;
    width: 100%;
}

/* Combat mode section */
.mega .combat-mode-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.mega .combat-mode-toggle {
    display: flex;
    align-items: center;
    gap: 12px;
}

.mega .combat-mode-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(var(--accent-color), 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.mega .combat-mode-text {
    font-size: 15px;
    color: #2c3e50;
    /* text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); */
}

.mega .combat-mode-input {
    padding-left: 52px;
}

.mega .combat-mode-input.hidden {
    display: none;
}

.mega .combat-mode-input label {
    display: block;
    margin-bottom: 5px;
    /* color: rgba(255, 255, 255, 0.9); */
    font-size: 13px;
}

/* Advantages grid */
.mega .advantages-card {
    margin-top: 20px;
    /* background: var(--opacity-clear-color); */
    /* background: rgba(0,100,200,0.2); */
}

.mega .advantages-grid {
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr));
    gap: 3px;
    margin-top: 15px;
    max-width: 100%;
    overflow-x: auto;
    width: 100%;
}

.mega .advantage-column {
    background: var(--opacity-color);
    border-radius: 6px;
    padding: 6px;
    border: 1px solid VAR(--accent-color);
    min-width: 0;
    font-size: 10px;
    width: 100%;
    max-width: 100%;
    flex: 1;
    box-sizing: border-box;
}

.mega .advantage-header {
    text-align: center;
    font-weight: bold;
    /* color: #ffffff; */
    color:#2c394b;
    margin-bottom: 6px;
    padding: 4px;
    background: rgba(var(--accent-color), 0.3);
    border-radius: 4px;
    font-size: 12px;
    /* text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); */
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

.mega .advantage-field {
    margin-bottom: 6px;
}

.mega .advantage-field label {
    display: block;
    font-size: 11px;
    /* color:#fff; */
    margin-bottom: 2px;
    font-weight: 500;
    line-height: 1.2;
    word-break: break-word;
    overflow-wrap: break-word;
    text-align: center;
}

.mega .modern-input {
    width: 100%;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 4px;
    padding: 4px 6px;
    color: #ffffff;
    font-size: 11px;
    transition: all 0.2s ease;
    box-sizing: border-box;
}

.mega .modern-input:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px rgba(var(--accent-color), 0.4);
    /* background: rgba(0, 0, 0, 0.6); */
}

.mega .advantage-input {
    text-align: center;
    font-weight: bold;
}

.mega .effect-input {
    font-size: 11px;
    text-align: center;
}

.mega .effect-input input {
    font-size: 11px;
    color:#FFF;
    background: #fff;
}

/* Effects help */
.mega .effects-help {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.mega .effects-legend {
    background: rgba(var(--accent-color), 0.15);
    border-left: 3px solid var(--accent-color);
    padding: 12px;
    border-radius: 6px;
    font-size: 12px;
    line-height: 1.4;
    color: #ffffff;
    display: flex;
    align-items: flex-start;
    gap: 8px;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.mega .effects-legend i {
    color: var(--accent-color);
    margin-top: 2px;
}

/* Media fields */
.mega .media-fields-grid {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.mega .media-fields-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    color:#000;
}

.mega .media-field {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.mega .media-field.half-width {
    flex: 1;
}

.mega .media-field label {
    font-size: 13px;
    color:#2c394b;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 6px;
    /* text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); */
}

.mega .media-field label i {
    font-size: 12px;
    /* color: var(--accent-color); */
}

.mega .numeric-input {
    text-align: center;
}

/* Sound field */
.mega .sound-field-container {
    margin-top: 10px;
}

.mega .sound-input-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.mega .sound-input-group > div:last-child {
    display: flex;
    align-items: stretch;
    gap: 8px;
}

.mega .sound-input {
    flex: 1;
}

.mega .play-sound-btn {
    background: var(--accent-color);
    border: none;
    border-radius: 6px;
    padding: 8px 12px;
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
}

.mega .play-sound-btn:hover {
    background: rgba(var(--accent-color), 0.8);
    transform: scale(1.05);
}

.mega .play-sound-btn i {
    font-size: 12px;
}

/* Media fields styling */
.mega .media-fields-grid {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 10px;
}

.mega .media-fields-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.mega .media-field {
    margin-bottom: 15px;
}

.mega .media-field.half-width {
    margin-bottom: 0;
}

.mega .media-field label {
    display: block;
    font-size: 14px;
    /* color: rgba(255, 255, 255, 0.9); */
    margin-bottom: 6px;
    font-weight: 500;
    color:#000;
}

.mega .sound-field-container {
    margin-top: 10px;
}

.mega .sound-input-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.mega .sound-input-group label {
    font-size: 14px;
    /* color: rgba(255, 255, 255, 0.9); */
    margin-bottom: 4px;
    font-weight: 500;
}

.mega .play-sound-btn {
    background: rgba(var(--accent-color), 0.6);
    border: none;
    border-radius: 4px;
    padding: 8px 12px;
    margin-top: 8px;
    color: white;
    cursor: pointer;
    transition: all 0.2s ease;
    align-self: flex-start;
}

.mega .play-sound-btn:hover {
    background: rgba(var(--accent-color), 0.8);
    transform: scale(1.05);
}

/* Responsive adjustments */
@media (max-width: 800px) {
    .mega .advantages-grid {
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 6px;
    }
    
    .mega .advantage-column {
        padding: 6px;
        font-size: 10px;
    }
    
    .mega .advantage-header {
        font-size: 11px;
        padding: 4px;
    }
    
    .mega .advantage-field label {
        font-size: 9px;
    }
    
    .mega .modern-input {
        font-size: 10px;
        padding: 3px 4px;
    }
    
    .mega .damage-types-grid {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 10px;
    }
    
    .mega .media-fields-row {
        grid-template-columns: 1fr;
        gap: 10px;
    }
}

@media (max-width: 600px) {
    .mega .advantages-grid {
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 4px;
    }
    
    .mega .advantage-column {
        padding: 4px;
    }
    
    .mega .advantage-header {
        font-size: 10px;
        padding: 3px;
    }
    
    .mega .advantage-field label {
        font-size: 8px;
    }
    
    
    .mega .modern-input {
        font-size: 9px;
        padding: 2px 3px;
    }
}

/* Styles pour l'inventaire moderne */
.mega .inventory-sections {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-top: 15px;
}

.mega .inventory-section-weapons,
.mega .inventory-section-equipment {
  background: rgba(0, 0, 0, 0.05);
  padding: 15px;
  border-radius: var(--border-radius);
  border: 1px solid var(--color-border-light-2);
}

.mega .section-title {
  color: var(--color-text-heading);
  margin: 0 0 15px 0;
  font-size: 1.1em;
  font-weight: bold;
  text-align: center;
  padding: 8px;
  background: linear-gradient(90deg, rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1));
  border-radius: var(--border-radius);
  border: 1px solid var(--color-border-light-1);
}

.mega .inventory-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 10px;
  padding: 10px 0;
}

.mega .inventory-item-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 5px;
  border-radius: var(--border-radius);
  transition: all 0.2s ease;
}

.mega .inventory-item-card:hover {
  background: rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.mega .inventory-item-image {
  position: relative;
  margin-bottom: 5px;
}

.mega .inventory-item-image img {
  width: 60px;
  height: 60px;
  border-radius: var(--border-radius);
  border: 1px solid var(--color-border-light-2);
  box-shadow: inset 0px 2px 10px 29px var(--opacity-clear-color);
  transition: all 0.2s ease;
  cursor: pointer;
}

.mega .inventory-item-image img:hover {
  box-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
  border-color: rgba(0, 150, 255, 0.7);
}

.mega .inventory-item-name {
  font-size: 0.8em;
  color: var(--color-text-dark-primary);
  line-height: 1.2;
  max-width: 70px;
  word-wrap: break-word;
  hyphens: auto;
}

.mega .item-quantity-badge {
  position: absolute;
  bottom: -2px;
  right: -2px;
  background: linear-gradient(135deg, #4CAF50, #45a049);
  color: white;
  font-size: 10px;
  font-weight: bold;
  padding: 2px 4px;
  border-radius: 8px;
  border: 1px solid white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  min-width: 16px;
  text-align: center;
}

.mega .item-charge-badge {
  position: absolute;
  top: -2px;
  right: -2px;
  background: linear-gradient(135deg, #FF9800, #F57C00);
  color: white;
  font-size: 10px;
  font-weight: bold;
  padding: 2px 4px;
  border-radius: 8px;
  border: 1px solid white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  min-width: 16px;
  text-align: center;
}

.mega .item-charge-badge i {
  margin-right: 2px;
  font-size: 8px;
}

/* Responsive pour petits écrans */
@media (max-width: 768px) {
  .mega .inventory-sections {
    grid-template-columns: 1fr;
  }
  
  .mega .inventory-grid {
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
  }
}
